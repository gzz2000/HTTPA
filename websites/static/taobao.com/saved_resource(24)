define("kg/home-2017/1.4.26/index",["util","node","ua","dom","kg/session/0.0.1/index","kg/pattern/2.1.3/lib/reporter","kg/pattern/2.1.3/lib/event","kg/pattern/2.1.3/lib/image","kg/pattern/2.1.3/index","kg/slide/6.0.8/index","kg/pattern/2.1.3/lib/io","promise","url","anim","kg/offline/7.0.1/index","cookie","kg/attr-anim/6.0.6/index","kg/home-2017/1.4.26/c/fixedtool/index.css","kg/datalazyload/6.0.10/index"],function(require,exports,module){var util=require("util"),node=require("node"),_ua_=require("ua"),dom=require("dom"),aliSession=require("kg/session/0.0.1/index"),aliPatternLibReporter=require("kg/pattern/2.1.3/lib/reporter"),aliPatternLibEvent=require("kg/pattern/2.1.3/lib/event"),aliPatternLibImage=require("kg/pattern/2.1.3/lib/image"),aliPattern=require("kg/pattern/2.1.3/index"),aliSlide=require("kg/slide/6.0.8/index"),aliPatternLibIo=require("kg/pattern/2.1.3/lib/io"),promise=require("promise"),_url_=require("url"),anim=require("anim"),aliOffline=require("kg/offline/7.0.1/index"),cookie=require("cookie"),aliAttrAnim=require("kg/attr-anim/6.0.6/index"),kgHome20171426CFixedtoolIndexless=require("kg/home-2017/1.4.26/c/fixedtool/index.css"),aliDatalazyload=require("kg/datalazyload/6.0.10/index"),kgHome20171426LibPolyfill,kgHome20171426LibAplus,kgHome20171426LibFeature,kgHome20171426LibTanx,kgHome20171426CQrIndex,kgHome20171426CServiceCatjsthtml,kgHome20171426CServiceItemjsthtml,kgHome20171426CServiceBannerjsthtml,kgHome20171426CPromoIndex,kgHome20171426LibAld,kgHome20171426CTmallBanners,kgHome20171426CConveLayoutjsthtml,kgHome20171426CFocusItemjsthtml,kgHome20171426CNavIndex,kgHome20171426CAppItemjsthtml,kgHome20171426CMemberLoginjsthtml,kgHome20171426CNoticeIndex,kgHome20171426CDecorationsItemjsthtml,kgHome20171426CTanxIndex,kgHome20171426CSearchSticky,kgHome20171426CSearchTmalljsthtml,kgHome20171426CSearchAlimamajsthtml,kgHome20171426CCornerIndex,kgHome20171426CFixedtoolItemjsthtml,kgHome20171426CFixedtoolBackup,kgHome20171426CSuperbannerItemjsthtml,kgHome20171426CVenuesItemjsthtml,kgHome20171426LibLog,kgHome20171426LibSwRegister,kgHome20171426CommonHeadItemBarjsthtml,kgHome20171426CommonHeadItemjsthtml,kgHome20171426LibUtil,kgHome20171426CAdIndex,kgHome20171426CServiceIndex,kgHome20171426CTmallIndex,kgHome20171426CConveIndex,kgHome20171426CFocusIndex,kgHome20171426CAppIndex,kgHome20171426CMemberIndex,kgHome20171426CDecorationsIndex,kgHome20171426CSearchIndex,kgHome20171426CFixedtoolIndex,kgHome20171426CSuperbannerIndex,kgHome20171426CVenuesIndex,kgHome20171426CommonHeadIndex,kgHome20171426LibModules,kgHome20171426CommonInject,kgHome20171426LibLoader,kgHome20171426LibIndex,kgHome20171426Index;kgHome20171426LibPolyfill=function(t){function e(){function t(t,e){if(e=e||{bubbles:!1,cancelable:!1,detail:void 0},document.createEvent){var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a}}return"function"!=typeof window.CustomEvent&&(t.prototype=window.Event&&window.Event.prototype||{},void(window.CustomEvent=t))}function a(){var t=navigator.userAgent.toLowerCase().indexOf("taobrowser")>-1;window.requestNextAnimationFrame=function(){if(t)return function(t){setTimeout(function(){t&&t()})};var e=void 0,a=void 0,n=0,i=navigator.userAgent,o=0,r=this;return window.webkitRequestAnimationFrame&&(a=function(t){void 0===t&&(t=+new Date),r.callback(t)},e=window.webkitRequestAnimationFrame,window.webkitRequestAnimationFrame=function(t,n){r.callback=t,e(a,n)}),window.mozRequestAnimationFrame&&(o=i.indexOf("rv:"),i.indexOf("Gecko")!=-1&&(n=i.substr(o+3,3),"2.0"===n&&(window.mozRequestAnimationFrame=void 0))),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){var a,n;window.setTimeout(function(){a=+new Date,t(a),n=+new Date,r.timeout=1e3/60-(n-a)},r.timeout)}}()}return e(),a(),t}(),kgHome20171426LibAplus=function(t){var e=node.all,a=util,n="//g.alicdn.com/??secdev/entry/index.js,alilog/oneplus/entry.js";return a.load||(a.load=function(t){"complete"==document.readyState?t():e(window).on("load",function(){t()})}),a.load(function(){setTimeout(function(){KISSY.getScript(n)},3e3)}),t}(),kgHome20171426LibFeature=function(t){function e(){this._retina(),this._zoom(),this._webp(),this._env(),this.responsive(),this.pageActive()}var a=_ua_,n=node.all,i=dom,o=n("body"),r=util,s=aliSession,l=aliPatternLibEvent;return e.prototype={_retina:function(){r.isHighDensity()?s.set("retina",!0):s.set("retina",!1)},pageActive:function(){var t,e,a;"undefined"!=typeof document.hidden?(t="hidden",a="visibilitychange",e="visibilityState"):"undefined"!=typeof document.mozHidden?(t="mozHidden",a="mozvisibilitychange",e="mozVisibilityState"):"undefined"!=typeof document.msHidden?(t="msHidden",a="msvisibilitychange",e="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",a="webkitvisibilitychange",e="webkitVisibilityState"),n(document).on(a,function(e){l.broadcast("page:visibility",{hidden:document[t]})})},_zoom:function(){var t=this;if("windows"===a.os||"macintosh"===a.os){if(11==a.ie||"edge"==a.core)return;try{var e=this._detectZoom();e>0&&(e>1.01||e<.99)&&this._responsive(e),setTimeout(function(){var e=t._detectZoom();t._responsive(e)},2e3)}catch(n){}}},_detectZoom:function(){function t(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}var e=1,a=window.devicePixelRatio;return a&&a<1&&a>0?e=a:isNaN(screen.deviceXDPI)||isNaN(screen.logicalXDPI)?window.outerWidth>0&&window.innerWidth>0&&(e=window.outerWidth/window.innerWidth):e=screen.deviceXDPI/screen.logicalXDPI,t(e,1)},_responsive:function(t){t>0&&t<.99?o.addClass("tb-zoom"):o.removeClass("tb-zoom")},_webp:function(){this._supportWebp(function(t){t?s.set("webp",!0):s.set("webp",!1)})},_supportWebp:function(t){var e=new Image;e.onload=e.onerror=function(){t(2===e.width&&2===e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"},_env:function(){var t=n("#J_TBBucket"),e=t.attr("data-container"),a=t.attr("data-version"),i=t.attr("data-stop"),o=t.val();s.set("bucket",o),s.set("tbVersion",a),s.set("slideStop","1"==i),e&&s.set("env",e)},responsive:function(){var t=n(window);t.on("resize",function(){var t=n("body"),e=i.viewportWidth();r.each([990,1024,1190,1270,1365,1440],function(a){e<=a?t.addClass("s"+a):t.removeClass("s"+a)}),l.broadcast("window:responsive",{wide:e>1190})}),t.fire("resize")}},t=e}(),kgHome20171426LibTanx=function(t){var e=aliPatternLibReporter,a=node,n=a.all,i=function(t,a,i){t=n(t);var o=this.el=t.hasClass("J_Tanx")?t:t.one(".J_Tanx");return o?(this.isOPE=1==o.attr("data-isope"),this.pid=o.attr("data-id"),this.isCorner=t.hasClass("J_TanxCorner"),this.autoLazy=1==o.attr("data-autolazy"),this.cb=a||function(){},void this.init(i)):void e({category:"ERROR_Tanx_notFound_Hook",msg:"Tanx\u5e7f\u544a\u6ca1\u6709\u627e\u5230\u94a9\u5b50"})};i.prototype.init=function(t){if(this.isCorner)return void this.loadCorner();if(this.autoLazy){var e=this.el.parent("div"),a=e&&(e.offset().top-Number(this.el.attr("data-ahead"))||0);return void this.lazyLoad({pid:this.pid,isope:this.isOPE,top:a})}this.load(this.pid,this.isOPE,t)};var o=!1;return i.prototype.loadCorner=function(){var t=this;if(!((window.innerWidth||document.documentElement.clientWidth+21)<1366||o)){o=!0;var a="//p.tanx.com/ex?i=",i=KISSY.map(n(".J_TanxCorner"),function(t){return n(t).one(".J_Tanx").attr("id").split("-")[2]}),r=Math.floor(Math.random()*i.length);KISSY.getScript(a+i[r],{error:function(){e({category:"ERROR_Tanx-script-crash",msg:"Tanx \u5e7f\u544a\u521d\u59cb\u5316\u811a\u672c\u52a0\u8f7d\u5931\u8d25\uff01 "+i[r]},"warn"),t.cb()}})}},i.prototype.load=function(t,a,i){function o(){e({category:"ERROR_Tanx-notFound-hook",msg:"Tanx \u6ca1\u6709\u627e\u5230 id \u4e3a "+t+" \u7684 hook\uff01",sampling:1},"warn")}var r=window,s={i:t,sd:"ecpm.tanx.com"};if(t){if(a&&(s.sd=("https:"===location.protocol?"opehs":"ope")+".tanx.com"),r.tanxssp_show)return void r.tanxssp_show(s);if(r.tanx_ssp_onload=r.tanx_ssp_onload||[],r.tanx_ssp_onload.push(s),this.cb(),i){if(!n(".tanx-a-"+t).length)return void o()}else if(!n("#tanx-a-"+t).length)return void o();var l="//g.alicdn.com/mm/tanx-cdn/t/tanxssp.js?v=2";KISSY.getScript(l,{charset:"gbk",error:function(){"function"!=typeof window.tanxssp_show&&e({category:"ERROR_Tanx-script-crash",msg:"Tanx \u5e7f\u544a\u521d\u59cb\u5316\u811a\u672c\u52a0\u8f7d\u5931\u8d25\uff01 "+t},"warn")},success:function(){e({msg:"[Tanx] "+t})}})}},i.prototype.lazyLoad=function(t){function a(){var n=o.height()+o.scrollTop();t.top<=n&&"1"!=i.el.attr("loaded")&&(e({msg:"[Lazyload Tanx] "+t.pid}),i.el.attr("loaded","1"),i.load(t.pid,t.isope),o.detach("scroll resize",a))}var i=this,o=n(window);o.on("scroll resize",a),a()},t=i}(),kgHome20171426CQrIndex=function(t){var e=node,a=e.all,n=aliPatternLibImage,i=function(t){this.el=t;var e=a(".qrcode",this.el),i=e.attr("data-src"),i=n.getImageAndCache(i,{webp:!0});e.attr("src",i),this.el.delegate("click",".J_QrFt",function(){this.el.hide()},this)};return t=i}(),kgHome20171426CServiceCatjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data,function(t,e){__p+='\n  <div class="service-panel '+__e(t.items.length>=6?"full":"")+'">\n      <h5>'+(null==(__t=t.title)?"":__t)+"</h5>\n      ",data.length<4?(__p+="\n          ",_.each(t.items,function(t,e){__p+='\n            <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" class="service-image-item">\n              <img src="'+(null==(__t=t.pic)?"":__t)+'" alt="'+(null==(__t=t.show_name)?"":__t)+'">\n              <p>'+(null==(__t=t.show_name)?"":__t)+"</p>\n            </a>\n          "}),__p+="\n      "):(__p+="\n      <p>\n        ",_.each(t.items,function(t,e){__p+="\n          ";var a=_.isTrue(t.h);__p+='\n          <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" ',a&&(__p+='class="h" '),__p+=">"+(null==(__t=t.show_name)?"":__t)+"</a>\n        "}),__p+="\n      </p>\n      "),__p+="\n  </div>\n"}),__p+="\n\n";return __p}}(),kgHome20171426CServiceItemjsthtml=function(exports){return exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="service-float-item clearfix" data-index="'+(null==(__t=data.index)?"":__t)+'">\n  <div class="service-fi-links loading" data-spm-ab="links-'+(null==(__t=data.index)?"":__t)+'"></div>\n  <div class="service-rmd">\n    <h3>\u731c\u4f60\u559c\u6b22</h3>\n    <div class="service-rmd-list loading clearfix" data-spm-ab="rmds-'+(null==(__t=data.index)?"":__t)+'"></div>\n  </div>\n</div>\n';return __p}}(),kgHome20171426CServiceBannerjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data.items,function(t,e){__p+="\n  ",e<6&&(__p+='\n  <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" class="fl">\n    <div class="img-wrapper">\n      <img src="'+__e($runtime.image(t.pic||t.img))+'" alt="'+(null==(__t=t.show_name)?"":__t)+'"/>\n    </div>\n    <h5>\n      <span class="li-name a-all">'+(null==(__t=t.show_name)?"":__t)+"</span>\n    </h5>\n  </a>\n  "),__p+="\n"}),__p+="\n\n";return __p}}(),kgHome20171426CPromoIndex=function(t){function e(t){this.el=t,this.optEl=this.el.all(".J_PromoOpt"),e.superclass.constructor.apply(this)}var a=kgHome20171426LibTanx,n=aliPattern,i=aliSlide,o=node,r=window.lib.mtop,s=util,l={},c=o.all;return n.extend(e,{init:function(){this._bind();var t=this.index=c(".promo-bd",this.el).attr("data-index")||0;t=parseInt(t);var e=window.location.search.slice(1),a=this.el.one(".mod-six");if(a&&e){var n=s.unparam(e);n&&null!==n.six?this.gosix=1:a.remove()}else a&&a.remove();this.initSlider(t)},_bind:function(){var t=this;this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this),this.el.delegate("click",".J_Ald_20140506002",function(){var t=this;this.logCache&&this.logCache.length>0&&setTimeout(function(){t.godlog("/tbindex.promo.promo","CLK",{impid:t.logCache.length>1?t.logCache[1].click.impid:t.logCache[0].click.impid,lyg:t.logCache.length>1?t.logCache[1].click.lyg:t.logCache[0].click.lyg,lygClk:t.logCache.length>1?t.logCache[1].click.lygClk:t.logCache[0].click.lygClk})},0)},this),this.el.delegate("click",".J_Ald_20140506001",function(){var t=this;this.logCache&&this.logCache.length>0&&setTimeout(function(){t.godlog("/tbindex.promo.promo","CLK",{impid:t.logCache[0].click.impid,lyg:t.logCache[0].click.lyg,lygClk:t.logCache[0].click.lygClk})},0)},this),this.subscribe("page:visibility",function(e){t.inViewport(e.hidden)}),c(window).on("resize scroll",s.throttle(function(e){t.inViewport(!1)},200))},inViewport:function(t){s.isElementInViewport(this.el[0])&&!t?this.isPlay||(this.activeSlide(!0),this.isPlay=!0):this.isPlay&&(this.isPlay=!1,this.activeSlide(!1))},activeSlide:function(t){t?this.slide&&this.slide.play():this.slide&&this.slide.stop()},initSlider:function(t){var e=this;if(this.slide=new i(this.el,{contentClass:"promo-bd",pannelClass:"mod",navClass:"promo-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),this.el.on("mouseenter",function(){e.optEl.show()}),this.el.on("mouseleave",function(){e.optEl.hide()}),this.slide.on("beforeSwitch",function(t){var a=t.index;if(1!==l[a]){var n=t.pannelnode;e.loadContent(n,a)}l[a]||(l[a]=!0,e.godlog("/tbindex.promo.promo","EXP",{index:a},"H1476877900","\u9996\u7126\u7b2c "+a+" \u5e27\u66dd\u5149"))}),this.gosix)return void this.slide.go(6);this.renderTanx(),0==t&&t++;try{var a=this.slide.pannels.item(t);this.loadContent(a)}catch(n){this.reportError({extra:"switch {index}: "+(n&&n.message)})}},renderTanx:function(){this.el.all(".J_Tanx").each(function(t){var e=c(t),n=Number(e.attr("data-lazychance"));n=isNaN(n)?1:n;var i=Math.random()>=n;i&&(new a(e),e.removeClass("J_Tanx"))})},loadContent:function(t,e){var n=t.hasClass("J_Tanx"),i=t.hasClass("J_Ald");if(n)new a(t),t.removeClass("J_Tanx");else if(i){var o=t.attr("data-id");this.newAld(o),t.removeClass("J_Ald")}n||i||(l[e]=1)},_prev:function(t){t.preventDefault(),this.slide.previous()},_next:function(t){t.preventDefault(),this.slide.next()},addADTag:function(t){var e=1==t.attr("data-show"),a=c("a",t);e&&0==c(".ad-tags",a).length&&a.append('<span class="ad-tags">\u5e7f\u544a</span>')},newAld:function(t){var e=this;r.request({api:"mtop.tmall.kangaroo.core.service.route.AldLampService",v:"1.0",data:{appId:10760644,source:this.source,count:2,bizId:20200922},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(a){if(a.ret&&~a.ret[0].indexOf("SUCCESS"))if(a.data&&a.data.resultValue&&2===a.data.resultValue[10760644].data.length){a.data.resultValue[10760644].bottomUrl&&e.offline.setItem(e.source,a.data.resultValue[10760644].bottomUrl);var n=a.data.resultValue[10760644].data;e.formatData(n),"20140506001"===t&&(e._render(t,e.dataCache[0]),e.dataCache[0].trackParams&&e.log(e.dataCache[0].trackParams)),"20140506002"===t&&(e._render(t,e.dataCache[1]),e.dataCache[1].trackParams&&e.log(e.dataCache[1].trackParams))}else e.backup(t,e.source,"empty")})["catch"](function(a){e.backup(t,e.source,a&&a.message)})},_render:function(t,e){var a="",n=c(".J_Ald_"+t),i=e.actionUrl,o=e.imageUrl;a+='<a href="'+i+'" data-spm="d'+(t+1)+'"><img src="'+o+'" /></a>',n.html(a),n.css("visibility","visible")},backup:function(t,e,a){try{var n=this.offline.getItem(e);n?this.backupAld(t,e,a):this.backupZebra(t,e,a)}catch(i){this.reportError()}},backupAld:function(t,e,a){var n=this,i=this.offline.getItem(e);this.jsonp({url:i.replace("http://","https://"),jsonpCallback:"callback_10760644_source_"+e}).then(function(i){if("success"===i.msgInfo.toLocaleLowerCase()&&i.data&&i.data.length){var o=i.data;n.formatData(o),"20140506001"===t&&(n._render(t,n.dataCache[0]),n.dataCache[0].trackParams&&n.log(n.dataCache[0].trackParams)),"20140506002"===t&&(n._render(t,n.dataCache[1]),n.dataCache[1].trackParams&&n.log(n.dataCache[1].trackParams))}else n.backupZebra(t,e,a);n.reportBackup({extra:"\u963f\u62c9\u4e01 "+t+" \u52a0\u8f7d\u5931\u8d25\uff0c\u8be6\u60c5\uff1a"+(a||"")})})["catch"](function(i){n.backupZebra(t,e,a)})},backupZebra:function(t,e,a){var n={};window.staticConfig.promo&&window.staticConfig.promo.length>0?("20140506001"==t&&(n.actionUrl=window.staticConfig.promo[0].href,n.imageUrl=window.staticConfig.promo[0].img,this._render(t,n)),"20140506002"==t&&(n.actionUrl=window.staticConfig.promo[4].href,n.imageUrl=window.staticConfig.promo[4].img,this._render(t,n)),this.reportBackup({extra:"\u963f\u62c9\u4e01 "+t+" \u52a0\u8f7d\u5931\u8d25\uff0c\u8be6\u60c5\uff1a"+(a||"")})):this.reportError()},log:function(t){var e=this;this.logCache.push(t),setTimeout(function(){e.logCache.length&&e.godlog("/tbindex.promo.promo","EXP",{impid:t.expose.impid,lyg:t.expose.lyg,lygImp:t.expose.lygImp})},0)},formatData:function(t){var e=this,a=t.every(function(t){return"1"===t.materialExtendInfo.showPosition||"5"===t.materialExtendInfo.showPosition}),n=t.some(function(t){return"1"===t.materialExtendInfo.showPosition||"5"===t.materialExtendInfo.showPosition});a?t.forEach(function(t){"1"===t.materialExtendInfo.showPosition&&(e.dataCache[0]=t),"5"===t.materialExtendInfo.showPosition&&(e.dataCache[1]=t)}):n?t.forEach(function(a,n){"1"===a.materialExtendInfo.showPosition&&(e.dataCache[0]=a,0===n?e.dataCache[1]=t[1]:e.dataCache[1]=t[0]),"5"===a.materialExtendInfo.showPosition&&(e.dataCache[1]=a,0===n?e.dataCache[0]=t[1]:e.dataCache[0]=t[0])}):(this.dataCache[0]=t[0],this.dataCache[1]=t[1])},defaults:function(){return{name:"tbh-promo",category:"ERROR_ALD_Load_Crash",isPlay:!0,logCache:[],source:"taobao_pc_focus_personal",dataCache:[]}}}),t=e}(),kgHome20171426LibAld=function(t){function e(t){return p[t]?a(p,t)?l.resolve(p[t]):l.reject():m?new l(function(e,a){h.push({id:t,resolve:e,reject:a})}):(m=!0,s.jsonp({url:"//ald.taobao.com/recommend2.htm",data:{appId:i()},timeout:4}).then(function(e){p=e||{},m=!1,n(e);var i=a(e,t);if(i)return i},function(t){m=!1,n()}))}function a(t,e){if(t&&t[e]&&t[e].data&&t[e].data.length>0)return t[e]}function n(t){d.each(h,function(e){var n=a(t,e.id);n?e.resolve(n):e.reject("empty")})}function i(){var t=[];return d.each(u(".J_Ald"),function(e){for(var a=u(e),n=a.attr("data-id"),i=!1,o=0,r=t.length;o<r;o++)t[o]===n&&(i=!0);i||t.push(n)}),t.join(",")}function o(t,e){var a=e||u(".J_Ald_"+t),n=u("img",a);a.addClass("mod-loaded"),a.css("visibility","visible"),d.each(n,function(t){var e=u(t),a=e.attr("data-src");a=c.getNewUrl(a,{webp:!0}),e.attr("src",a)})}function r(t,e,a,n){var i="";a=a||"";for(var o=n||u(".J_Ald_"+t),r=0,s=e.length;r<s;r++){var l=e[r];if(l.exposureParam&&l.nickNameStrategy){var d=new Image;d.src=l.exposureParam,d.onerror=function(){return!1}}var h=l.href||l.link||l.url||l.action,m=l.img||l.content||l.imgUrl,p=l.text||"",f={};!a&&n&&(f.webp=!0),m=c.getNewUrl(m,f),i+='<a href="'+h+'" data-spm="d'+(r+1)+'"><img src="'+(m+a)+'" alt="'+p+'" /></a>'}o.html(i),o.css("visibility","visible")}var s=aliPatternLibIo,l=promise,c=aliPatternLibImage,d=util,u=node.all,h=[],m=!1,p={};return t={loader:e,loadTms:o,render:r}}(),kgHome20171426CTmallBanners=function(t){return t=[{isTce:"false",isAld:"true",alds:[{img:"//img.alicdn.com/bao/uploaded/TB1WgndFVXXXXc1XpXXwu0bFXXX.png",tce_rule_count:"1",link:"lenovo",title:"\u8054\u60f3"},{img:"//img.alicdn.com/bao/uploaded/TB1rVLKHpXXXXafaXXXSutbFXXX.jpg",tce_rule_count:"1",link:"langsha",title:"\u6d6a\u838e"},{img:"//img.alicdn.com/bao/uploaded/TB1FsffHXXXXXbaXVXXSutbFXXX.jpg",tce_rule_count:"1",link:"newsmynsm",title:"\u7ebd\u66fc\u8f66\u54c1"},{img:"//img.alicdn.com/bao/uploaded/i4/T1w8nUXn4aXXXQXDnq-90-45.png",tce_rule_count:"1",link:"sast",title:"\u5148\u79d1"},{img:"//img.alicdn.com/bao/uploaded/T1NAeXFbBeXXb1upjX.jpg",tce_rule_count:"1",link:"kailide",title:"\u51ef\u7acb\u5fb7"},{img:"//img.alicdn.com/bao/uploaded/T1FPaZXCdeXXb1upjX.jpg",tce_rule_count:"1",link:"toshibacc",title:"\u4e1c\u829d"},{img:"//img.alicdn.com/bao/uploaded/T1Z86AFXlbXXb1upjX.jpg",tce_rule_count:"1",link:"jado",title:"\u6377\u6e21\u8f66\u54c1"},{img:"//img.alicdn.com/bao/uploaded/T1xKvZFj0cXXb1upjX.jpg",tce_rule_count:"1",link:"garminxhwy",title:"\u661f\u706b\u4f1f\u4e1a"},{img:"//img.alicdn.com/bao/uploaded/T1x0imFvRjXXb1upjX.jpg",tce_rule_count:"1",link:"flyaudio",title:"\u98de\u6b4c"},{img:"//img.alicdn.com/bao/uploaded/T1utGfFf8gXXb1upjX.jpg",tce_rule_count:"1",link:"aimer",title:"\u7231\u6155"},{img:"//img.alicdn.com/bao/uploaded/i1/T1J51oXXVjXXXXXXXX-90-45.jpg",tce_rule_count:"1",link:"steelmate",title:"\u94c1\u5c06\u519b"},{img:"//img.alicdn.com/bao/uploaded/i1/T1_5.YXa0bXXXQXDnq-90-45.png",tce_rule_count:"1",link:"reebok",title:"\u9510\u6b65"}],isTanx:"false",share:"false",id:"03014",open:"false",local:"false"},{isTce:"false",isAld:"false",isTanx:"true",share:"false",id:"mm_12852562_1778064_95126332",tanxs:[{isope:"false",tce_rule_count:"1",id:"mm_12852562_1778064_48432768"},{isope:"false",tce_rule_count:"1",id:"mm_12852562_1778064_48458242"}],open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1gujqEFzqK1RjSZSgXXcpAVXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1sQTyENYaK1RjSZFnXXa80pXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1x7TyENYaK1RjSZFnXXa80pXa-502-380.jpg",link:"https://bag.tmall.comhttps://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1IQPsEFzqK1RjSZFoXXbfcXXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1xwW3eiLaK1RjSZFxXXamPFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1Cq1HekvoK1RjSZPfXXXPKFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1jq1HekvoK1RjSZPfXXXPKFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1NASFejDpK1RjSZFrXXa78VXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"}]}(),kgHome20171426CConveLayoutjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="conve-bd-box" tabindex="-1">\n  <a href="javascript:;" target="_self" class="conve-bd-box-close J_conveClose tb-ifont" data-spm-click="gostr=/tbindex;locaid=d1;name=\u5173\u95ed\u4fbf\u6c11\u670d\u52a1\u6d6e\u5c42" aira-label="\u5173\u95ed\u6d6e\u5c42">&#xe613;</a>\n  ',_.each(data.names,function(t,e){__p+='\n  <div class="conve-bd-item J_Conve_'+(null==(__t=t)?"":__t)+' loading">\n    <div class="conve-bd-loading"></div>\n  </div>\n  '}),__p+="\n</div>";return __p}}(),kgHome20171426CFocusItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+="<a class='J_Focus' href=\""+(null==(__t=data.targetUrl)?"":__t)+'" ',data.spm&&(__p+='data-spm-ab="'+(null==(__t=data.spm)?"":__t)+'"'),__p+='>\n  <img src="'+(null==(__t=$runtime.image(data.imgUrl,"290x290","400x400","q90",!0))?"":__t)+'" alt="'+(null==(__t=data.name||"\u7126\u70b9\u56fe")?"":__t)+'">\n</a>';return __p}}(),kgHome20171426CNavIndex=function(t){function e(t,a){this.el=n(t),this.conf=a,e.superclass.constructor.apply(this)}var a=aliPattern,n=node.all,i=util,o=_url_;return a.extend(e,{init:function(){if(this.el.hasClass("nav11")){try{var t=(o.parse(location.href,!0).query||{}).scheduleDate;if(t){t=t.split(" ");var e=t[0].split("-"),a=t[1].split(":"),n=e[0],r=e[1]-1,s=e[2],l=a[0],c=a[1],d=a[2];t=new Date(n,r,s,l,c,d).getTime();var u=new Date(2017,11,1,0,0,0).getTime();t&&i.now()<u&&(isNaN(t)||(this.mockTime=t))}}catch(h){}this.countdown()}},countdown:function(t){var e=this,a=this.getStatus(t);if(a){if(!this.countdownEl){var i='<div class="countdown-wrapper fl"><span class="countdown-inner"></span><span class="bar"></span><span class="lave"></span></div>';n(".nav",this.el).append(i);var o=n(".countdown-inner",this.el);if(n(".nav-bd").offset().top-o.offset().top<0)return void o.remove();this.countdownEl=o}this.countdownEl.html(a.msg),this.lastStatus?this.lastStatus.center!==a.center&&(a.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center")):a.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center"),this.lastStatus=a}else n(".countdown-wrapper",this.el).remove();setTimeout(function(){e.mockTime&&(e.mockTime+=1e3),e.countdown()},1e3)},getStatus:function(t){function e(t,e,a,n,i,o){return new Date(t,e,a,n,i,o).getTime()}function a(t){return t<10?"0"+t:""+t}function n(t){var e=t.split("");return i.substitute('<span class="bg">{decade}</span><span class="bg unit">{unit}</span>',{decade:e[0],unit:e[1]})}var o=this.getTime();this.time||(this.time={longBefore:e(2018,11,1,0,0,0),dayBefore:e(2018,11,11,0,0,0),readyStart:e(2018,11,11,23,50,0),start:e(2018,11,12,0,0,0),readyEnd:e(2018,11,12,23,50,0),end:e(2018,11,12,23,59,59)});var r=this.time;if(!(o<r.longBefore)){if(o>=r.longBefore&&o<=r.dayBefore){var s=(r.dayBefore-o)/864e5;return s=Math.ceil(s),s=a(s+1),{msg:'\u8ddd\u53cc12\u5f00\u5e55\u5269<span class="countdown">'+n(s)+"</span>\u5929",center:!1}}if(o>=r.dayBefore&&o<r.readyStart){var l=r.start-o,c=Math.floor(l/1e3),d=parseInt(c/3600,10)%24,u=parseInt(c/60,10)%60,h=parseInt(c%60,10);return d=a(d),u=a(u),h=a(h),{msg:['\u8ddd\u53cc12\u5269<span class="countdown">',n(d),":",n(u),":",n(h),"</span>"].join(""),center:!1}}if(o>=r.readyStart&&o<r.start)return{msg:"\u53cc12\u5373\u5c06\u5f00\u59cb",center:!0};if(o>=r.start&&o<r.readyEnd){var l=r.end-o,c=Math.floor(l/1e3),d=parseInt(c/3600,10)%24,u=parseInt(c/60,10)%60,h=parseInt(c%60,10);return d=a(d),u=a(u),h=a(h),{msg:['\u8ddd\u7ed3\u675f\u5269<span class="countdown">',n(d),":",n(u),":",n(h),"</span>"].join(""),center:!1}}return o>=r.readyEnd&&o<r.end?{msg:"\u53cc12\u5373\u5c06\u7ed3\u675f",center:!0}:void 0}},getTime:function(){return this.mockTime?this.mockTime:i.now()},defaults:function(){return{name:"nav"}}}),t=e}(),kgHome20171426CAppItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var head=data.head&&data.head[0];__p+="\n<h3>\n  ",__p+=head.link?'\n    <a href="'+__e(head.link)+'">'+(null==(__t=head.name)?"":__t)+"</a>\n  ":"\n    "+(null==(__t=head.name)?"":__t)+" \n  ",__p+='\n  <a class="more" href="'+__e(head.more)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n</h3>\n\n<ul class="apps-nav clearfix">\n  ',_.each(data.apps,function(t,e){__p+="\n  ",e<=9&&(__p+='\n  <li class="nav" data-spm-ab="apps-'+(null==(__t=t.spm)?"":__t)+'">\n    <a href="'+(null==(__t=t.link?t.link:"javascript:;")?"":__t)+'" ',"1"===t.log&&(__p+="onclick=\"javascript:goldlog.record('/"+(null==(__t=t.logkey)?"":__t)+"','','','"+(null==(__t=t.gokey)?"":__t)+"')\" "),__p+='>\n      <img src="'+__e(t.img)+'" alt="\u624b\u673aapp - '+(null==(__t=t.name)?"":__t)+'" class="app-icon" />\n    </a>\n    <div class="app-qr">\n      <img class="J_QRCode" data-src="'+(null==(__t=t.qr)?"":__t)+'_80x80.jpg" src="//g.alicdn.com/s.gif" alt="\u4f7f\u7528\u624b\u673a\u626b\u63cf'+(null==(__t=t.name)?"":__t)+'\u7684\u4e8c\u7ef4\u7801" />\n      <p>\u626b\u4e00\u626b'+(null==(__t=t.name)?"":__t)+"</p>\n    </div>\n  </li>\n   "),__p+="\n  "}),__p+="\n</ul>"}return __p}}(),kgHome20171426CMemberLoginjsthtml=function(exports){return exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="member-column-4">\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitConfirm">\n    <strong>'+(null==(__t=data.a)?"":__t)+'</strong>\u5f85\u6536\u8d27\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitSend">\n    <strong>'+(null==(__t=data.d)?"":__t)+'</strong>\u5f85\u53d1\u8d27\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitPay">\n   <strong>'+(null==(__t=data.b)?"":__t)+'</strong>\u5f85\u4ed8\u6b3e\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitRate">\n    <strong>'+(null==(__t=data.c)?"":__t)+"</strong>\u5f85\u8bc4\u4ef7\n  </a>\n</div>";return __p}}(),kgHome20171426CNoticeIndex=function(t){function e(t){this.el=t,e.superclass.constructor.apply(this)}var a=aliPattern,n=node,i=aliSlide,o=n.all,r=util,s=promise;return a.extend(e,{init:function(){this.bind()},bind:function(){var t=this;r.load(function(){t._godlog("\u516c\u544a")}),this.el.delegate("mouseenter",".J_Enter",function e(t){var a=o(t.currentTarget),n=a.index(),s=this;this.slide=new i(this.el,{contentClass:"notice-bd",pannelClass:"mod",navClass:"notice-hd",eventType:"mouseenter",defaultTab:n+1}),this._show(r.trim(a.text()),n),this.el.undelegate("mouseenter",".J_Enter",e,this),this.slide.on("beforeSwitch",function(t){var e=o(t.navnode).text();s._show(e,t.index)})},this)},_show:function(t,e){this.store[t]||0===e||(this._render(e,this.slide.pannels.item(e)),this._godlog(t))},_render:function(t,e){var a=this;this.getList(t).then(function(t){var a=[];t&&(r.each(t.items,function(t){t.enhance=t.enhance===!0||"true"===t.enhance,t.enhance=t.enhance?"h":"",a.push(r.substitute('<li><a href="{link}" class="{enhance}">{text}</a></li>',t))}),o(e).html(a.join("")))})["catch"](function(t){a.reportError({extra:{message:t&&t.message,type:"render"}})})},getList:function(t){return window.staticConfig.notice?s.resolve(window.staticConfig.notice[t]):this.backup(t,"empty")},backup:function(t,e){var a=this;return this.tarzan({url:this.url,data:{ids:this.ids}}).then(function(n){var i=a.getVal(n,t);if(i)return a.reportCDN({extra:e}),i;throw new Error("cdn empty")})},getVal:function(t,e){var a=t&&t[this.ids]&&t[this.ids].value;if(a&&a.category)return this.category=a.category,this.category[e]},_godlog:function(t){this.store[t]||(this.store[t]=!0,this.godlog("/tbindex.2016092702.notice","EXP",{name:t},"H1482418995","\u516c\u544a\u66dd\u5149\uff1a"+t))},defaults:function(){return{store:{},name:"tbh-notice"}}}),t=e}(),kgHome20171426CDecorationsItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="decorations-item '+(null==(__t=data.classname)?"":__t)+'" style="background:url('+__e(data.img)+") no-repeat;width:"+(null==(__t=data.width)?"":__t)+"px;height:"+(null==(__t=data.height)?"":__t)+"px;z-index:"+(null==(__t=data.zIndex?data.zIndex:3)?"":__t)+"; ",data.top&&(__p+=" top: "+(null==(__t=data.top)?"":__t)+"px; "),__p+=" ",data.left&&(__p+="left: "+(null==(__t=data.left)?"":__t)+"px; "),__p+=";",data.right!==undefined&&(__p+="right: "+(null==(__t=data.right)?"":__t)+"px; "),__p+='">\n</div>\n\n';return __p}}(),kgHome20171426CTanxIndex=function(t){var e=kgHome20171426LibTanx;return t=function(t){new e(t)}}(),kgHome20171426CSearchSticky=function(t){var e=_ua_,a=node,n=a.all,i=n(window),o=aliSession,r=function(){e.ie&&e.ie<=8||this.init()};return r.prototype.init=function(){
var t="wrap-fixed",e=!1,a=!1,r=n("#J_SiteNav"),s=r.height(),l=n(".J_Cup"),c=n(".J_Top"),d=function(){var r=i.scrollTop(),d=l.offset().top;r>d+100?(e||(e=!0,l.addClass(t),window.TB.isFixed&&c.animate({top:s},{duration:.2,easing:"easeOut"})),!a&&o.get("sugEl")&&(a=!0,o.get("sugEl").css({position:"fixed",top:window.TB.isFixed?s+39:39})),n("#J_SearchFt").hide()):(e&&(e=!1,c.css("top",0),l.removeClass(t)),a&&o.get("sugEl")&&(a=!1,o.get("sugEl").css({position:"absolute",top:d+91})),n("#J_SearchFt").show(),n("#J_SearchIcon").show())};d(),i.on("scroll",d)},t=r}(),kgHome20171426CSearchTmalljsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="search-hots">\n  ',_.each(data.list,function(t,e){__p+='\n  <a href="//list.tmall.com/search_product.htm?sourceId=tb.index&commend=all&q='+(null==(__t=t.query)?"":__t)+"&from=tbmain_1."+(null==(__t=e)?"":__t)+'_hq" ',t.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=t.query)?"":__t)+"</a>\n  "}),__p+="\n</div>";return __p}}(),kgHome20171426CSearchAlimamajsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)_.each(data,function(t){__p+='\n<a href="'+(null==(__t=t.link)?"":__t)+'" ',t.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=t.query)?"":__t)+"</a>\n"}),__p+="\n";return __p}}(),kgHome20171426CCornerIndex=function(t){function e(t){function e(t){n({category:"ERROR_Corner",msg:t||"\u811a\u672c\u8def\u5f84\u4e0d\u5b58\u5728"})}var a=i(".corner-inner",t);if(0!==a.length){var o=a.attr("data-path");return o?void KISSY.use(o,function(t,e){},function(t){e("\u811a\u672c\u52a0\u8f7d\u5931\u8d25"+t&&t.message)}):void e()}}var a=node,n=aliPatternLibReporter,i=a.all;return t=e}(),kgHome20171426CFixedtoolItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<span class="tb-ifont wangwang">&#xe605;</span>\n',_.each(data,function(t,e){__p+="\n",t.clickme=_.isTrue(t.clickme),__p+='\n  <a href="'+(null==(__t=t.url?t.url:7==e?"//report.12377.cn:13225/toreportinputNormal_anis.do?spm=a21bo.50862.1997523009.48.28689e73weBwJ0&file=toreportinputNormal_anis.do%E7%82%B9%E8%BF%9B%E5%8E%BB%E6%98%AF%E8%BF%99%E4%B8%AA%E7%BD%91%E5%9D%80":"#")?"":__t)+'" class="a-all fixedtool-'+(null==(__t=t.index)?"":__t)+" "+(null==(__t=0===e?"on":"")?"":__t)+'" data-tool="'+(null==(__t=t.tool)?"":__t)+'" aria-hidden="true" data-spm-click="gostr=/tbindex;locaid=d'+(null==(__t=e+1)?"":__t)+";name=fixed-"+(null==(__t=e+1)?"":__t)+'">'+(null==(__t=t.name)?"":__t),t.clickme&&(__p+="<em></em> "),__p+="</a>\n"});return __p}}(),kgHome20171426CFixedtoolBackup=function(t){return t=[{name:"\u7231\u901b\u597d\u8d27",index:"1",clickme:!1,url:"",tool:"goods"},{name:"\u597d\u5e97\u76f4\u64ad",index:"3",clickme:!1,url:"",tool:"shop"},{name:"\u54c1\u8d28\u7279\u8272",index:"4",clickme:!1,url:"",tool:"quality"},{name:"\u5b9e\u60e0\u70ed\u5356",index:"5",clickme:!1,tool:"afford",url:""},{name:"\u731c\u4f60\u559c\u6b22",index:"6",clickme:!1,tool:"hotsale",url:""},{name:"\u9876\u90e8",index:"7",clickme:!1,tool:"gotop",url:""},{name:"\u53cd\u9988",index:"8",clickme:!1,tool:"",url:"//survey.taobao.com/survey/kgsa2JZE2?acm=lb-zebra-634493-8610539.1003.4.8191555&scm=1003.4.lb-zebra-634493-8610539.OTHER_15917316861957_8191555"},{name:"\u66b4\u6050\u4e3e\u62a5",index:"9",clickme:!1,tool:"",url:"//www.12377.cn/?acm=lb-zebra-634493-8610539.1003.4.8191555&scm=1003.4.lb-zebra-634493-8610539.OTHER_15917313014468_8191555"}]}(),kgHome20171426CSuperbannerItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<a href="'+(null==(__t=data.logo.logoUrl)?"":__t)+'" class="tmall-logo fl">\n  <img src="'+(null==(__t=data.logo.logoImg)?"":__t)+'" alt="\u5929\u732b">\n</a>\n<div class="list fl" data-spm-ab="taobao">\n  ',_.each(data.list,function(t,e){__p+='\n    <a href="'+(null==(__t=t.link)?"":__t)+'" class="fl item-'+(null==(__t=e+1)?"":__t)+" item "+(null==(__t=4==e?"last":"")?"":__t)+'" style="background-image: url('+(null==(__t=t.bgurl)?"":__t)+')">\n      <div class="desc-wrapper">\n        <h4 class="title">'+(null==(__t=t.title)?"":__t)+'</h4>\n        <p class="subtitle">'+(null==(__t=t.subtitle)?"":__t)+"</p>\n      </div>\n      ",t.img&&(__p+='\n      <div class="img-outer">\n        <img src="'+(null==(__t=$runtime.image(t.img,"80x80","160x160","q90",!0))?"":__t)+'" alt="'+(null==(__t=t.title)?"":__t)+'">\n      </div>\n      '),__p+="\n    </a>\n    "}),__p+="\n</div>";return __p}}(),kgHome20171426CVenuesItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)_.each(data.list,function(t,e){__p+="\n",e<5&&(__p+="\n<li ",0==e&&(__p+=' class="first" '),__p+=' style="background-image: url('+(null==(__t=t.bgImg)?"":__t)+')">\n  <a href="'+(null==(__t=t.link)?"":__t)+'">\n    <div class="desc-wrapper">\n      <h4>'+(null==(__t=t.title)?"":__t)+"</h4>\n      <p>"+(null==(__t=t.subtitle)?"":__t)+'</p>\n    </div>\n    <div class="wrap-img">\n       <img src="'+(null==(__t=$runtime.image(t.img,"100x100","200x200","q90",!0))?"":__t)+'" alt="">\n    </div>\n  </a>\n</li>\n'),__p+="\n"});return __p}}(),kgHome20171426LibLog=function(t){function e(){r.load(function(){var t=o.get("tbVersion");KISSY.use("kg/home-2017/"+t+"/lib/monitor")},15e3),this.init()}var a=node,n=aliOffline,i=aliPatternLibReporter,o=aliSession,r=util,s=a.all,l=(new n,aliPattern);return l.extend(e,{init:function(){var t=this;this.rewriteJSTracker(),r.load(function(){t.addClickTracker(),t.scrollPV(),t.modulePVDots()}),window.addEventListener("unhandledrejection",function(t){var e=r.computeStackTraceFromStackProp(t.reason);i({category:"ERROR_PROMISE",msg:JSON.stringify(e)})}),s(document).on("private:error",function(e){var a=e&&e.detail;a||(a=e&&e.originalEvent&&e.originalEvent.detail),a&&"tanx"===a.source&&t.broadcast("alimama:tanx",a);try{i({category:"ERROR_PRIVATE_ERROR",msg:JSON.stringify(e)},"warn")}catch(n){}})},modulePVDots:function(){var t=[];s("div[preload-distance]").each(function(e){var a=s(e),n=a.offset().top;t.push({el:a,top:n})}),t=t.sort(function(t,e){return t.top>e.top?1:-1});var e,a=s(window);a.on("scroll",e=function(){var n=a.scrollTop()+a.height(),o=!0;r.each(t,function(t){var e=t.el,a=t.top;if(t.loaded||(o=!1),n>=a&&e.hasClass("tbh-loaded")){t.loaded=!0;var r=(e.attr("tms")+"-"+(e.attr("tms-datakey")||""),e.attr("data-name")||""),s=e.one('a[href*="pvid"]'),l=s&&s.attr("href"),c=l&&l.match(/pvid=([^&$#]*)/);i({msg:"exposure log "+r+": {tag}",goldlog:["/tbindex.20160406.1","",{name:r,pvid:c&&c[1]||""},"H46985920"]})}}),o&&a.detach("scroll",e)}),e()},scrollPV:function(){for(var t=[],e=s(window),a=[],n=700,o=350,l=0;l<30;l++)t.push(n+o*l);var c;e.on("scroll",c=function(){var n=e.scrollTop();r.each(t,function(t){n>=t&&!r.inArray(t,a)&&(a.push(t),i({goldlog:["/tbindex.2014.10","",{top:t},"H46896546"],msg:t+"px \u89e6\u53d1\u57cb\u70b9"}))}),t.length==a.length&&e.detach("scroll",c)}),c()},addClickTracker:function(){function t(t,e,a,n){var i,o=s(t);o&&!o.attr("data-spm-click")&&(e=e?";name="+e:"",n=n||"/tbindex",a=a||"d2016",i="gostr="+n+";locaid="+a+e,o.attr("data-spm-click",i))}t(".J_Conve a[href*='zhaocaibao.alipay.com']","\u8682\u8681\u91d1\u670d\u62db\u8d22\u5b9d\u9996\u9875"),t(".J_QrFt","\u4e8c\u7ef4\u7801\u5173\u95ed\u6309\u94ae"),t(".J_PromoOpt .prev","\u9996\u7126prev\u6309\u94ae","d500"),t(".J_PromoOpt .next","\u9996\u7126next\u6309\u94ae","d600"),t(".J_TmallOpt .prev","\u5929\u732bprev\u6309\u94ae","d500"),t(".J_TmallOpt .next","\u5929\u732bnext\u6309\u94ae","d600")},rewriteJSTracker:function(){var t=window.JSTracker2.push,e=this;window.JSTracker2.push=function(a){if(a&&a.msg&&a.msg.indexOf&&a.msg.indexOf("||")!==-1){var n=a.msg.split("||")[1],i=void 0;if(r.isString(n))try{if(n=JSON.parse(n),i=e.getModule(n),a.msg.indexOf("\u5bb9\u707e\u6570\u636e\u4e0d\u5b58\u5728")!==-1)return;if(i)return void i.report({data:{type:"tce"},msg:a.msg.split("||")[0]})}catch(o){}}t.apply(window.JSTracker2,arguments)}},getModule:function(t){r.isArray(t)&&(t=t[0]);var e=o.get("modules"),a=void 0;return e&&t.tce_sid&&r.each(e,function(e){e.dataStr&&e.dataStr.indexOf(t.tce_sid)!==-1&&(a=e.mod)}),a}}),t=e}(),kgHome20171426LibSwRegister=function(t){var e=node.all,a=aliPatternLibReporter;return t=function(){var t=e("#J_TBBucket"),n=t.attr("data-pwa");if("serviceWorker"in navigator){navigator.serviceWorker.addEventListener("message",function(t){"ERROR"===t.type?a({category:"SW_ERROR",msg:JSON.stringify(t)}):"REJECTION"===t.type&&a({category:"SW_REJECTION",msg:JSON.stringify(t)})});var i=navigator.serviceWorker;"true"==n?navigator.serviceWorker.register("/sw.js")["catch"](function(t){a({category:"SW_REGIST",msg:JSON.stringify(t)})}):(i.getRegistrations?i.getRegistrations().then(function(t){t.forEach(function(t){t.unregister()})}):i.getRegistration&&i.getRegistration().then(function(t){t&&t.unregister()}),window.caches&&caches.keys&&caches.keys().then(function(t){t.forEach(function(t){caches["delete"](t)})}))}}}(),kgHome20171426CommonHeadItemBarjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+="\n",data.itemLayer&&(__p+='\n<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n'),__p+='\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd bar-hd">\n    <em>'+(null==(__t=data.title)?"":__t)+"</em>\n    ",data.morelink&&(__p+='\n    <span class="tb-fn clearfix">\n      <a class="more" href="'+(null==(__t=data.morelink)?"":__t)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n    </span>\n    '),__p+='\n  </h3>\n  <div class="list clearfix"></div>\n  ',data.itemLayer||(__p+='\n  <div class="hotsale-ft">\n    <i class="hotsale-end">END</i>\n  </div>\n  '),__p+="\n\n",data.itemLayer&&(__p+="\n</div>\n");return __p}}(),kgHome20171426CommonHeadItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd com-hd">\n    <em>'+(null==(__t=data.title)?"":__t)+"</em>\n    ",data.link&&(__p+='\n    <a href="'+(null==(__t=data.link)?"":__t)+'" class="fl">\n    '),__p+=' \n    <img class="mlogo fl" src="'+(null==(__t=data.logo)?"":__t)+'" title="'+(null==(__t=data.title)?"":__t)+'"/>\n    ',data.link&&(__p+="\n    </a>\n    "),__p+="\n    <p>\n      ",data.qr&&(__p+=' \n      <span class="qr-wrapper">\n        <span class="tb-ifont tb-qr">&#xe610;</span>\n        <span class="a-all">\n          <img src="'+(null==(__t=data.qr)?"":__t)+'" alt="'+(null==(__t=data.title)?"":__t)+'">\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      '),__p+='\n      <span class="subtitle '+(null==(__t=data.qr?"":"ml6")?"":__t)+'">'+(null==(__t=data.subtitle)?"":__t)+'</span>\n    </p>\n    <span class="tb-fn clearfix">\n      ',_.isTrue(data.switcher)&&(__p+='\n      <span class="switch">\u6362\u4e00\u6362</span>\n      '),__p+="\n      ",data.moreLink&&(__p+='\n      <a class="more" href="'+(null==(__t=data.moreLink)?"":__t)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n      '),__p+='\n    </span>\n  </h3>\n  <ul class="list clearfix '+(null==(__t=data.classname)?"":__t)+'-list"></ul>\n</div>\n\n\n';return __p}}(),kgHome20171426LibUtil=function(t){var e=util,a=node.all;return e.isHighDensity=function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3},e.frame=function(t){window.requestNextAnimationFrame(function(){t()})},e.load=function(t,n){function i(){n?setTimeout(function(){e.frame(t)},n):e.frame(t)}/loaded|complete/.test(document.readyState)?i():a(window).on("load",i)},e.getKey=function(t,e){if(t&&t[e])return t[e]},e.getItem=function(t,a){if(t&&e.isArray(t)&&t.length>a)return t[a]},e.isElementInViewport=function(t){var e=t.getBoundingClientRect(),n={width:e.width,height:e.height,top:e.top,left:e.left};return n.height||(n.height=a(t).height()),n.width||(n.width=a(t).width()),n.top+n.height>0&&n.left+n.width>0&&n.left<=(window.innerWidth||document.documentElement.clientWidth)&&n.top<=(window.innerHeight||document.documentElement.clientHeight)},e.computeStackTraceFromStackProp=function(t){if("undefined"!=typeof t.stack&&t.stack){for(var e,a,n,i="?",o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=t.stack.split("\n"),u=[],h=(/^(.*) is undefined$/.exec(t.message),0),m=d.length;h<m;++h){if(a=o.exec(d[h])){var p=a[2]&&0===a[2].indexOf("native"),f=a[2]&&0===a[2].indexOf("eval");f&&(e=c.exec(a[2]))&&(a[2]=e[1],a[3]=e[2],a[4]=e[3]),n={url:p?null:a[2],func:a[1]||i,args:p?[a[2]]:[],line:a[3]?+a[3]:null,column:a[4]?+a[4]:null}}else if(a=r.exec(d[h]))n={url:a[2],func:a[1]||i,args:[],line:+a[3],column:a[4]?+a[4]:null};else{if(!(a=s.exec(d[h])))continue;var f=a[3]&&a[3].indexOf(" > eval")>-1;f&&(e=l.exec(a[3]))?(a[3]=e[1],a[4]=e[2],a[5]=null):0!==h||a[5]||"undefined"==typeof t.columnNumber||(u[0].column=t.columnNumber+1),n={url:a[3],func:a[1]||i,args:a[2]?a[2].split(","):[],line:a[4]?+a[4]:null,column:a[5]?+a[5]:null}}!n.func&&n.line&&(n.func=i),u.push(n)}return u.length?{name:t.name,message:t.message,stack:u}:null}},t}(),kgHome20171426CAdIndex=function(t){function e(t){this.innerEl=a(".tbh-ad-inner",t),e.superclass.constructor.apply(this)}var a=node.all,n=kgHome20171426LibTanx,i=util,o=aliPattern,r=aliPatternLibImage;return o.extend(e,{init:function(){var t=this,e=a("textarea",this.innerEl);if(e.length){var o=e.attr("data-type");this.configData=JSON.parse(i.trim(e.val()));var r=this.configData.pid;if(1==o)this.renderTanx(r),this.type=1,window.tanx_c=window.tanx_c||{},window.tanx_c[r]={CustomShow:function(e){try{if(e.tmpl){var a=JSON.parse(e.tmpl);if(a.image1&&a.image2&&a.image3)return void t.renderBg(a)}t.backup({message:"empty"})}catch(n){t.backup({message:n.message})}}},new n(this.innerEl);else{if(0!=o)return;this.renderTanx(r),new n(this.innerEl),this.type=0}this.bind()}},renderTanx:function(t){this.innerEl.html('<a class="J_Tanx" style="display:none!important" id="tanx-a-'+t+'" data-id='+t+"></a>")},renderBg:function(t){this.innerEl.html('<div class="tbh-ad-wrapper">\n        <img alt="\u5e7f\u544a" src="'+r.getNewUrl(t.image2,{webp:!0})+'"/>\n        <span class="tbh-ad-banner-tag">\u5e7f\u544a</span>\n      </div>\n      <img alt="\u5de6\u4fa7\u6c1b\u56f4" src="'+r.getNewUrl(t.image1,{webp:!0})+'"  class="ad-left-item"/>\n      <img alt="\u53f3\u4fa7\u6c1b\u56f4" src="'+r.getNewUrl(t.image1,{webp:!0})+'" class="ad-right-item"/>'),this.responesive(),this.lazyBind()},bind:function(){var t=this;a("document");this.subscribe("alimama:tanx",function(e){e&&e.hook&&e.hook==="#tanx-a-"+t.configData.pid&&t.backup(e)})},lazyBind:function(){a(window).on("resize",i.buffer(this.responesive,100))},responesive:function(){var t,e=a(window).width(),n=a("body"),i=a(".tbh-ad-banner-tag",this.innerEl);t=n.hasClass("s1190")?-(e-990)/2:(e-1190)/2<365?-(e-1190)/2:-365,i.css({right:t})},backup:function(t){0==this.type?this.innerEl.html('<a class="tbh-ad-banner" href="'+this.configData.link+'"><img src="'+this.configData.img+'"><span class="tbh-ad-banner-tag">\u5e7f\u544a</span></a>'):this.renderBg({image1:this.configData.leftImg,image2:this.configData.img,image3:this.configData.rightImg}),this.reportBackup({extra:t})},defaults:function(){return{name:"ad",category:"ALIMAMA_AD"}}}),t=e}(),kgHome20171426CServiceIndex=function(t){function e(t){this.el=t,e.superclass.constructor.apply(this)}var a=aliPattern,n=promise,i=node,o=util,r=kgHome20171426CServiceCatjsthtml,s=kgHome20171426CServiceItemjsthtml,l=kgHome20171426CServiceBannerjsthtml,c=window.lib.mtop,d=i.all,u=-1,h={},m="cache-service-banners",p=m+"-validator",f={};return a.extend(e,{init:function(){this.floatEl=d(".service-float",this.el),this.bind(),this.collectData(),this.showHotTags(),this.serviceEl=d(".J_Service",this.el)},bind:function(){var t=this,e=d(".service-bd",this.el),a=d("li",e),n=this.floatEl;this.el.delegate("mouseenter",".J_Cat",function(e){var i=d(e.currentTarget);t.enterTime&&clearTimeout(t.enterTime),t.enterTime=setTimeout(function(){u=i.index(),a.removeClass("on"),i.addClass("on"),n.fadeIn(.3),t.showFloat()},100)}),this.el.delegate("mouseleave",".service-bd",function(e){var i=d(e.relatedTarget||e.toElement||e.fromElement);i.hasClass("service-float")||i.parent(".service-float")||(t.enterTime&&clearTimeout(t.enterTime),u=-1,a.removeClass("on"),n.hide())}),n.on("mouseenter",function(){u>-1&&(t.enterTime&&clearTimeout(t.enterTime),a.item(u).addClass("on"),n.fadeIn(.3),t.showFloat())}).on("mouseleave",function(e){var i=d(e.relatedTarget||e.toElement||e.fromElement);i.hasClass("service-bd")||i.parent(".service-bd")||(t.enterTime&&clearTimeout(t.enterTime),u=-1,a.removeClass("on"),n.hide())})},collectData:function(){for(var t=d(".J_Cat",this.el),e=[],a=[],n=0,i=t.length;n<i;n++){for(var o=d(t[n]),r=o.attr("data-groupid"),s=o.attr("data-closeper"),l=d("a",o),c=[],u=[],m=0,p=l.length;m<p;m++){var f=d(l[m]),g=f.attr("data-dataid");c.push(f.attr("data-cid")),u.push(g),a.push(g)}e.push({groupId:r,closePer:1==s,cids:c,dataids:u})}this.config=h=e,this.mids=a},showFloat:function(){var t=d(".service-float-item",this.el),e=d('.service-float-item[data-index="'+u+'"]',this.el);return u==-1||e.length?(t.hide(),void e.show()):(this.renderTo(s,{index:u},this.floatEl),t.hide(),d('.service-float-item[data-index="'+u+'"]',this.el).show(),this.renderModuleData(),void this.godlog("/tbindex.2016092701.category","EXP",{index:u},"H1484266099","\u4e3b\u9898\u5e02\u573a\u6d6e\u5c42\u66dd\u5149\uff0c\u5e8f\u53f7\uff1a"+u))},renderBanners:function(){var t=this,e=u,a=h[e].groupId;this.fetchBanner(a).then(function(n){var i={recItemList:h[e].backup};n=n&&n.result||[];for(var o=0,r=n.length;o<r;o++)if(n[o]&&n[o].topicId==a&&n[o].recItemList&&n[o].recItemList.length>=6){i=n[o];break}i||t.reportError({msg:"\u5bb9\u707e\u5931\u8d25\uff0cbanner \u6570\u636e\u4e0d\u5b58\u5728",category:t.category.banner,extra:{topicId:a}});var s=d('.service-float-item[data-index="'+e+'"] .service-rmd-list',t.el);t.render(l,i,s),s.removeClass("loading")})["catch"](function(e){t.reportError({category:t.category.banner,extra:{topicId:a,msg:"\u6e32\u67d3\u5f02\u5e38\uff0c\u8be6\u60c5"+e&&e.message}})})},renderModuleData:function(){var t=this,e=u;this.requestModuleData(function(a){var n=a.splice(0,1),i=d('.service-float-item[data-index="'+e+'"] .service-fi-links');t.render(r,a,i),i.removeClass("loading");var o=d('.service-float-item[data-index="'+e+'"] .service-rmd-list',t.el);t.render(l,n[0],o),o.removeClass("loading")})},requestModuleData:function(t){var e=this,a="tce_"+u;return f[a]?void(t&&t(f[a])):c.request({api:"mtop.mytaobao.pchome.multiAcquire",v:"1.0",data:{bizType:"pccategory",requestMap:JSON.stringify({catNameId:u+1})},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(n){var i=n.data.result;f[a]=i,!i||o.isEmptyObject(i)?(i=e.offline.getItem(""+a),i?(i=JSON.parse(i),t&&t(i),e.reportCache({category:e.category.cat})):e.getCatBackup(a,t)):(e.offline.setItem(""+a,JSON.stringify(i)),t&&t(i))})["catch"](function(n){var i=e.offline.getItem(""+a);i?(i=JSON.parse(i),f[a]=i,t&&t(i),e.reportCache({category:e.category.cat})):e.getCatBackup(a,t)})},fetchBanner:function(t){var e=this,a=this.fname;return new n(function(n,i){return f[e.fname]&&e.cacheTPP[t]?void n(f[e.fname]):e.cacheBannerData?void n(e.cacheBannerData):e.jsonp({url:"//tui.taobao.com/recommend?appid=2807",timeout:3}).then(function(o){if(e.hasTppRequest=!0,o&&o.result&&o.result.length>0){var r=[];f[a]=o;for(var s=0;s<3;s++)o.result[s]&&o.result[s].topicId&&r.push(o.result[s].topicId);for(var s=0,l=o.result.length;s<l;s++){var c=o.result[s],d=c&&c.topicId;d&&e.validator.array.minItems(c.recItemList,6)&&(e.cacheTPP[d]=!0)}return r.length&&e.offline.setItem("service-hot",r.join(",")),e.offline.setItem(m,JSON.stringify(o)),e.offline.setItem(p,JSON.stringify(e.cacheTPP)),void(e.cacheTPP[t]&&n(o))}var u=e.getCacheBanner(t);return u?void n(u):void i()},function(a){var o=e.getCacheBanner(t);o?n(o):i()})}).then(function(t){return t},function(){return e.getBackupBanner(t)})},getCacheBanner:function(t){var e=this.offline.getItem(m),a=this.offline.getItem(p);if(e&&a&&(e=JSON.parse(e),a=JSON.parse(a),f[this.fname]=e,a[t]))return this.reportCache({category:this.category.banner,extra:{topicId:t}}),e},showHotTags:function(){var t=this.offline.getItem("service-hot");if(t){t=t.split(",");for(var e=0,a=t.length;e<a;e++)d('.J_Cat[data-groupid="'+t[e]+'"] span',this.el).addClass("tbh-tag")}},_setBannerBackup:function(t){var e=this;o.each(t,function(t){var a=e.getRetItem(t.groupId);a.backup=t.banners})},getRetItem:function(t){for(var e=0,a=h.length;e<a;e++)if(h[e].groupId===t)return h[e]},getCatBackup:function(t,e){var a=this;KISSY.use("p/tbh-service-cat/index",function(n,i){f[t]=i[t],a.reportCDN({category:a.category.cat}),e&&e(i[t])},function(t){e(),a.reportError({category:a.category.cat})})},getBackupBanner:function(t){var e=this;return this.use("p/tbh-service/index").then(function(a){return e.reportCDN({category:e.category.banner,extra:{topicId:t}}),e._setBannerBackup(a&&a.groups),e.cacheBannerData=a,a.groups},function(){e.reportError({category:e.category.banner,extra:{topicId:t}})})},defaults:function(){return{name:"tbh-service",fname:"tpp_tbh-service",cacheTPP:{},category:{cat:"ERROR_service_cat_data_err",banner:"ERROR_service_banner_data_err"}}}}),t=e}(),kgHome20171426CTmallIndex=function(t){function e(t){this.el=t,this.optEl=this.el.all(".J_TmallOpt"),this.retina=!!c.get("retina"),this.webp=!!c.get("webp"),e.superclass.constructor.apply(this)}var a=aliPattern,n=kgHome20171426LibTanx,i=kgHome20171426LibAld,o=node,r=aliSlide,s=util,l=aliPatternLibImage,c=aliSession,d=o.all,u=kgHome20171426CTmallBanners,h=window.lib.mtop,m={};return a.extend(e,{init:function(){this.collectData(),this.initSlider(),this.bind(),this._getLogo(),d(".tmall-bd",this.el).removeClass("tb-loading")},bind:function(){var t=this;this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this),this.subscribe("page:visibility",function(e){t.inViewport(e.hidden)}),d(window).on("resize scroll",s.throttle(function(e){t.inViewport(!1)},200))},initSlider:function(){var t=this;this.slide=new r(this.el,{contentClass:"tmall-bd",pannelClass:"mod",navClass:"tmall-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),this.el.on("mouseenter",function(){t.optEl.show()}),this.el.on("mouseleave",function(){t.optEl.hide()}),this.slide.on("beforeSwitch",function(e){var a=e.pannelnode,n=e.index;n==t.bannerLen+1&&(n=1),0==n&&(n=t.bannerLen),d(".tmall-hd i",t.el).text(n),t.store[n]||(a.hasClass("J_TanxWrapper")?(t.loadTanx(a,n-1),t._godlog(n)):a.hasClass("J_Tce")?t.loadXctrl(a,n-1):t.loadContent(a,n-1))});try{var e=this.slide.pannels.item(1)}catch(a){this.reportError({extra:"\u521d\u59cb\u5316\u5f02\u5e38\uff0c\u8be6\u60c5\uff1a"+a.message})}this.loadContent(e,0)},inViewport:function(t){if(s.isElementInViewport(this.el[0])&&!t){if(this.isPlay)return;this.activeSlide(!0),this.isPlay=!0}else{if(!this.isPlay)return;this.activeSlide(!1),this.isPlay=!1}},activeSlide:function(t){t?this.slide&&this.slide.play():this.slide&&this.slide.stop()},_prev:function(t){t.preventDefault(),this.slide.previous()},_next:function(t){t.preventDefault(),this.slide.next()},loadContent:function(t,e){var a=this;if(t.addClass("mod-loaded"),t.hasClass("J_Ald")){t.removeClass("J_Ald");var n=t.attr("data-id");this.load(t,e,n).then(function(){var t=a._getBgs(e);t&&d(".J_Ald_"+n).each(function(e){a._bg(d(e),t)})})["catch"](function(t){a.reportError({extra:t&&t.message})}),this.store[e+1]=!0,this._godlog(e+1)}},load:function(t,e,a){var n=this,o=this.banners[e],r=o&&o.share,l=o&&o.local,c=this.getSize(t),d=o&&o.alds;if(d&&d.length)var u=d.length;else switch(this.reportError({extra:JSON.stringify({data:this.banners,curIndex:e})}),e){case 0:u=12;break;case 1:case 2:u=4;break;case 3:u=4}var u=o.alds.length;r=s.isTrue(r),l=s.isTrue(l);var h=r?t:null;return i.loader(a).then(function(t){var s=t&&t.data;if(s)if(l)i.render(a,d,c,h);else if(r&&0!==e){var m=parseInt(o.start,10)||0,p=parseInt(o.len,10)||u,f=s.slice(m,m+p);f&&f.length===p||(n.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+a+["\u5f00\u59cb\u4f4d\u7f6e\uff1a",m," \u957f\u5ea6\u4e3a\uff1a",p,"\u5b9e\u9645\u8fd4\u56de\u957f\u5ea6\uff1a",f.length].join(" ")}),f=d),i.render(a,f,c,h)}else s.length<u&&(n.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+a+["\u957f\u5ea6\u4e3a\uff1a",p,"\u5b9e\u9645\u8fd4\u56de\u957f\u5ea6\uff1a",s.length].join(" ")}),s=d),i.render(a,s,c,h);else i.render(a,d,c,h),n.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+a})})["catch"](function(t){i.render(a,d,c,h),n.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+a+"\uff0c\u8be6\u60c5 "+(t&&t.message)})})},loadXctrl:function(t,e){var a=this;return 2==e&&m[5]?(this.xctrlRender(m[2],d(this.slide.pannels.item(3)),2),!1):3==e&&m[5]?(this.xctrlRender(m[3],d(this.slide.pannels.item(4)),3),!1):4==e&&m[5]?(this.xctrlRender(m[4],d(this.slide.pannels.item(5)),4),!1):5==e&&m[5]?(this.xctrlRender(m[5],d(this.slide.pannels.item(6)),5),!1):h.request({api:"mtop.mytaobao.pchome.multiAcquire",v:"1.0",data:{bizType:"tmalltpp"},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){var n=t.data.result||[];n&&n.length>=2?m[2]=n.slice(0,2):(m[2]=a.banners[2].alds,a.reportError({extra:"\u5929\u732b\u5fc5\u901b\u7b2c3\u5e27-\u6570\u636e\u683c\u5f0f\u9519\u8bef"})),n&&n.length>=4?m[3]=n.slice(2,4):(m[3]=a.banners[3].alds,a.reportError({extra:"\u5929\u732b\u5fc5\u901b\u7b2c4\u5e27-\u6570\u636e\u683c\u5f0f\u9519\u8bef"})),n&&n.length>=6?m[4]=n.slice(4,6):(m[4]=a.banners[4].alds,a.reportError({extra:"\u5929\u732b\u5fc5\u901b\u7b2c5\u5e27-\u6570\u636e\u683c\u5f0f\u9519\u8bef"})),n&&n.length>=8?m[5]=n.slice(6,8):(m[5]=a.banners[5].alds,a.reportError({extra:"\u5929\u732b\u5fc5\u901b\u7b2c6\u5e27-\u6570\u636e\u683c\u5f0f\u9519\u8bef"})),2===e&&a.xctrlRender(m[2],d(a.slide.pannels.item(3)),2),3===e&&a.xctrlRender(m[3],d(a.slide.pannels.item(4)),3),4===e&&a.xctrlRender(m[4],d(a.slide.pannels.item(5)),4),5===e&&a.xctrlRender(m[5],d(a.slide.pannels.item(6)),5)})["catch"](function(t){a.reportError({extra:"\u5929\u732b\u5fc5\u901b\u7b2c3/4/5/6\u5e27-\u63a5\u53e3\u9519\u8bef"}),m[2]=a.banners[2].alds,m[3]=a.banners[3].alds,m[4]=a.banners[4].alds,m[5]=a.banners[5].alds,2===e&&a.xctrlRender(m[2],d(a.slide.pannels.item(3)),2),3===e&&a.xctrlRender(m[3],d(a.slide.pannels.item(4)),3),4===e&&a.xctrlRender(m[4],d(a.slide.pannels.item(5)),4),5===e&&a.xctrlRender(m[5],d(a.slide.pannels.item(6)),5)})},xctrlRender:function(t,e,a){e=d('.J_Tce[data-spm-ab="'+(a+1)+'"]',this.el);for(var n="",i=0,o=t.length;i<o;i++){var r=t[i],c=r.link,u=r.img,h=r.name||"",m=this.getSize(e);if(u=l.getNewUrl(u,{}),r.trackParams&&r.trackParams.clickParams){var p=c.split("?");p[1]&&(r.trackParams.clickParams=s.merge(s.unparam(p[1]),r.trackParams.clickParams)),c=c.split("?")[0]+"?"+s.param(r.trackParams.clickParams)}if(n+='<a href="'+c+'" data-spm="d'+(i+1)+'"><img src="'+(u+m)+'" alt="'+h+'" /></a>',r.trackParams&&r.trackParams.expoParams){var f=new Image;f.src="https://wgo.mmstat.com/turing.plan.1?"+s.param(r.trackParams.expoParams),f.onerror=function(){return!1}}else this.godlog("/tbhomepc.tmall.tianhe","EXP",{frame:a,msg:"backup"},"","\u5929\u732b\u5fc5\u901b\u515c\u5e95\u66dd\u5149")}e.html(n),e.css("visibility","visible"),e.addClass("mod-loaded"),this.store[a+1]=!0,this._godlog(a+1)},_bg:function(t,e){t.attr("data-open")&&d("a",t).each(function(t,a){if(t=d(t),e[a]){var n=e[a].bg,i=e[a].bg2;n&&(t.css({background:"url("+n+") 0 0 no-repeat"}),i&&t.css("background-image","-webkit-image-set(url("+n+") 1x,url("+i+") 2x)"))}})},_getBgs:function(t){var e=[],a=this.banners[t],n=a&&a.open;if(n=s.isTrue(n))return s.each(a.alds,function(t){e.push({bg:t.bg,bg2:t.bg2})}),e},loadTanx:function(t,e){var a=this,i=t.all(".J_Tanx");if(1===i.length){new n(i.item(0));var o=i[0].id;this.subscribe("alimama:tanx",function(i){if(i.hook==="#"+o){var r="",l=a.banners[e]&&a.banners[e].tanxs;s.each(l,function(t){r+='<a class="J_Tanx hide" id="tanx-a-'+t.id+'" data-id="'+t.id+'"></a>'}),t.html(r),t.addClass("column-2");var c=t.all(".J_Tanx");new n(c.item(0)),new n(c.item(1))}})}else if(i.each(function(t){new n(t,function(){},(!0))}),5===e){var r,l=!1,c=function u(){if(!l){var e=d(".tanx-wrapper",this.el);if(e.all("img").length){var a=e.html();t.html(a).removeClass("J_TanxWrapper"),l=!0}else r=setTimeout(u,50)}};c()}},getSize:function(t){var e="_240x240.jpg";return t.hasClass("mod-5")?e=this.retina?"_350x1000q90.jpg":"_210x1000q90.jpg":t.hasClass("mod-6")?e=this.retina?"_350x350q90.jpg":"_190x190q90.jpg":t.hasClass("mod-4")&&(e=this.retina?"_350x350q90.jpg":"_200x200q90.jpg"),t.hasClass("mod-12")?e=this.retina?"_170x170q90.jpg":"_90x90q90.jpg":t.hasClass("mod-2")&&(e=this.retina?"_400x400q90.jpg":"_240x240q90.jpg"),this.webp&&this.retina&&(e+="_.webp"),e},collectData:function(){try{this.banners=u,s.each(this.banners,function(t,e){t&&t.alds&&12===t.alds.length&&s.each(t.alds,function(t){t.link.indexOf("//")===-1&&(t.link="//"+t.link+".tmall.com/")})}),this.bannerLen=this.banners.length}catch(t){this.reportError({extra:t&&t.message})}},_godlog:function(t){this.expouse[t]||(this.expouse[t]=!0,this.godlog("/tbindex.2016201863.1","EXP",{frame:t},"H47671113","tmall frame "+t+" expouse"))},_getLogo:function(){var t=d(".hd-bg",this.el),e=!!t.attr("data-bg"),a="//img.alicdn.com/tfs/TB1thpcbUgQMeJjy0FjXXaExFXa-122-22.png",n="//img.alicdn.com/tfs/TB1hjDKX6ihSKJjy0FiXXcuiFXa-244-44.png";if(!e){var i=c.get("retina")?n:a;i=l.getImageAndCache(i),t.css({"background-image":"url("+i+")"})}},defaults:function(){return{expouse:{},store:{},name:"tbh-tmall",category:"ERROR_ALD_Load_Crash",isPlay:!0}}}),t=e}(),kgHome20171426CConveIndex=function(t){function e(t){this.el=t,this.init()}var a=node,n=aliPatternLibReporter,i=aliPattern,o=kgHome20171426CConveLayoutjsthtml,r=a.all,s="/markets/tbhome/",l={game:s+"bianming-game",baoxian:s+"bianming-baoxian",trip:s+"bianming-trip",phone:s+"bianming-phone"},c={},d=!0,u="//www.taobao.com";return/(alicdn|taobao)\.com$/.test(window.location.host)&&(u="//"+window.location.host),"tms-preview.taobao.com"===window.location.host&&(u="//tms-preview.taobao.com/wh/tms/taobao/page"),i.extend(e,{init:function(){this.bind(),this.bindCloseAction()},bind:function(){this.el.delegate("mouseenter",".conve-float",this.showConveBox,this),this.el.delegate("mousemove",".conve-float",this.showConveBox,this),this.el.delegate("click",".conve-bd-box-close",this.closeConveBox,this);
},showConveBox:function(t){var e=r(t.currentTarget);e.index();if(e.hasClass("conve-float")){var a=r(".conve",this.el),n=e.attr("data-name");c[n]||(d&&(d=!1,this._renderLayout(a),r(".conve-bd-item").hide()),this["goto"](e),c[n]=!0),a.addClass("conve_on"),this.el.one(".conve_on")&&(this.el.all(".conve-float").removeClass("selected"),e.addClass("selected")),e.addClass("selected"),r(".conve-bd-item").hide(),r(".conve-bd-item.J_Conve_"+n).show()}},_renderLayout:function(t){var e=[];r(".conve-float",t).each(function(t){var a=r(t),n=a.attr("data-name");n&&e.push(n)}),this.renderTo(o,{names:e},t),this.loadStyle()},"goto":function(t){try{var e=t.attr("data-name");if(!e)return;var a=r(".J_Conve_"+e,this.el);if(r(".J_convePop",this.el).hide(),!a.hasClass("loading"))return}catch(i){this.reportError({extra:"goto error"+this.el.all(".conve-list li").length})}this.ajax({url:u+l[e],cache:!1,dataType:"html"}).then(function(t){return t?void a.removeClass("loading").html(t,!0):void n({category:"Error_conve_load_html_err",msg:"get module: "+e+" fail"})},function(t){n({category:"Error_conve_load_html_err",msg:"get module: "+e+" fail, detail:"+t&&t.message})})},closeConveBox:function(){clearTimeout(this.timer),this.el.one(".conve").removeClass("conve_on"),this.el.all(".conve-float").removeClass("selected")},bindCloseAction:function(){var t=this;r("body").on("mousedown",function(e){var a=r(e.target),n=a.parent(".J_Module"),i=e.target.nodeName.toLowerCase();("body"===i||a.hasClass("cup")||n&&!n.parent(".J_Module")&&!n.hasClass("tbh-conve"))&&t.closeConveBox()})},loadStyle:function(){KISSY.getScript("//g.alicdn.com/tb-mod/tbh-conve-common/0.0.1/index-min.css")}}),t=e}(),kgHome20171426CFocusIndex=function(t){function e(t,a){this.el=t,this.conf=a,e.superclass.constructor.apply(this),this.el.delegate("click",".J_Focus",function(){var t=this;this.list&&this.list.length>0&&this.list[0].trackParams&&setTimeout(function(){t.godlog("/tbindex.luban.luban","CLK",{impid:t.list[0].trackParams.click.impid,lyg:t.list[0].trackParams.click.lyg,lygClk:t.list[0].trackParams.click.lygClk})},0)},this)}var a=aliPattern,n=node,i=(n.all,util),o=kgHome20171426CFocusItemjsthtml,r=window.lib.mtop;return a.extend(e,{init:function(){this.load()},_parse:function(){try{return}catch(t){}},load:function(){var t=this;r.request({api:"mtop.tmall.kangaroo.core.service.route.AldLampService",v:"1.0",data:{appId:10760644,source:"taobao_pc_focus_rightbanner",count:1,bizId:20200922},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(e){e.ret&&~e.ret[0].indexOf("SUCCESS")?(e.data&&e.data.resultValue&&t.validator.array.minItems(e.data.resultValue[10760644].data,1)&&(t.offline.setItem(t.cacheName,e.data.resultValue[10760644].bottomUrl),t.list=e.data.resultValue[10760644].data),t._renderFirstPaint()):t._renderFirstPaint()})["catch"](function(e){t.reportError({extra:{err:e&&e.message,val:"\u6e32\u67d3\u9519\u8bef"}}),t._renderFirstPaint()})},_renderFirstPaint:function(){this._render(this.el)},_render:function(t){var e=null,a=[];i.each(this.list,function(t){t&&(t.imageUrl&&t.actionUrl?e={targetUrl:t.actionUrl,imgUrl:t.imageUrl,trackParams:t.trackParams}:a.push("img or link is empty"))}),e||this.getCache(),e&&(this.render(o,e,t),e.trackParams&&this.log(e.trackParams))},log:function(t){var e=this;this.logCache.push(t),setTimeout(function(){e.logCache.length&&e.godlog("/tbindex.luban.luban","EXP",{impid:t.expose.impid,lyg:t.expose.lyg,lygImp:t.expose.lygImp})},0)},getCache:function(t){var e=this,a=this.offline.getItem(this.cacheName),n=null,t=[];t.push(this.cacheName),a?(this.jsonp({url:a.replace("http://","https://"),jsonpCallback:"callback_10760644_source_taobao_pc_focus_rightbanner"}).then(function(t){"success"===t.msgInfo.toLocaleLowerCase()&&t.data&&t.data[0]&&(n={targetUrl:t.data[0].actionUrl,imgUrl:t.data[0].imageUrl,trackParams:t.data[0].trackParams},n&&(e.render(o,n,e.el),n.trackParams&&e.log(n.trackParams)))}),this.reportBackup({extra:t.join(":")})):window.staticConfig.focus.length>0?(n={targetUrl:window.staticConfig.focus[0].targetUrl,imgUrl:window.staticConfig.focus[0].imgUrl,trackParams:JSON.parse(window.staticConfig.focus[0].trackinfo)},n&&(this.render(o,n,this.el),n.trackParams&&this.log(n.trackParams)),this.reportBackup({extra:t.join(":")})):this.reportError({extra:t.join(":")})},defaults:function(){return{cacheName:"taobao_pc_focus_rightbanner",name:"tbh-focus",category:"ERROR_Data_tbh_focus",list:[],backupData:{},logCache:[]}}}),t=e}(),kgHome20171426CAppIndex=function(t){function e(t,a){this.el=t,this.cfg=a,e.superclass.constructor.apply(this)}var a=util,n=node,i=n.all,o=aliPattern,r=aliPatternLibImage,s=promise,l=kgHome20171426CAppItemjsthtml;return o.extend(e,{init:function(){this.load()},load:function(){var t=this;this.fetch().then(function(e){e.apps.length>5&&(e.apps=e.apps.slice(0,5));var a=i(".apps",t.el);t._parse(e.apps),t.render(l,e,a),t._bind()})["catch"](function(e){t.reportError()})},fetch:function(){var t=window.staticConfig.app||{};return t&&t.head&&t.apps&&!a.isEmptyObject(t.head)&&!a.isEmptyObject(t.apps)?(this.offline.setItem(this.cacheKey,JSON.stringify(t)),s.resolve(t)):(t=this.offline.getItem(this.cacheKey),t=JSON.parse(t),t?(this.reportCache(),s.resolve(t)):this.backup())},backup:function(){var t=this;return this.use("p/"+this.name+"/index").then(function(e){return t.reportCDN(),e})},_parse:function(t){a.each(t,function(t){t.img=r.getImageAndCache(t.img,{webp:!0,size:"60x60"})})},_bind:function(){this.el.delegate("mouseenter",".nav",function(t){var e=i(".J_QRCode",t.currentTarget);if(1!=e.attr("data-loaded")){var a=e.attr("data-src");e.attr("src",a),e.attr("data-loaded",1)}})},defaults:function(){return{cacheKey:"cache-apps-tce",name:"tbh-app",cacheBaseKey:"cache-base64-apps"}}}),t=e}(),kgHome20171426CMemberIndex=function(t){function e(){return u.getTag()}function a(t){return u.getNick(t)}var n=node,i=aliPatternLibReporter,o=aliPatternLibImage,r=_ua_,s=util,l=aliSession,c=aliPattern,d=kgHome20171426CMemberLoginjsthtml,u=window.TB&&TB.Global,h=u&&u.isLogin(),m={"\u5317\u4eac":"//img.alicdn.com/tfs/TB1DsAvOFXXXXc5XVXXXXXXXXXX-580-340.png","\u4e0a\u6d77":"//img.alicdn.com/tfs/TB18IEUOFXXXXaQXXXXXXXXXXXX-580-340.png","\u5e7f\u5dde":"//img.alicdn.com/tfs/TB1IMECOFXXXXXiXVXXXXXXXXXX-580-340.png","\u6df1\u5733":"//img.alicdn.com/tfs/TB124AVOFXXXXb.XXXXXXXXXXXX-580-340.png","\u676d\u5dde":"//img.alicdn.com/tps/TB1QuZvLVXXXXb4XpXXXXXXXXXX-580-340.png","default":"//img.alicdn.com/tfs/TB19tIiOFXXXXbmapXXXXXXXXXX-580-340.png"},p=n.all,f="//taojinbi.taobao.com/index.htm",g=f+"?auto_take=true",_=function(t){this.el=t,this.tag=e(),this.init(),this.bg()};return c.extend(_,{init:function(){if(h){var t=this.el.all(".J_MemberClub");this.tag<1&&t.attr("href","//new.taobao.com");var e=this.el.all(".J_MemberPunch");e.attr({href:f,"data-spm":"d1"}),this._render()}var n=p(".J_MemberAvatar",this.el),i="//wwc.alicdn.com/avatar/getAvatar.do?userNick={userNick}&width=50&height=50&type=sns&_input_charset=UTF-8",o=s.substitute(i,{userNick:a(!0)});n.attr("src",o)},bg:function(){var t=this.el.attr("data-img");t||(h?this.setBg():this._setCityBg())},setBg:function(){var t=this,e=this.offline.getItem("city");return e&&m[e]?void this._setCityBg(e):(this._setCityBg(),void setTimeout(function(){t.jsonp("//tbip.alicdn.com/api/queryip").then(function(e){if(e&&e.data&&e.data.city){var a=e.data.city,n=/\u5317\u4eac|\u4e0a\u6d77|\u5e7f\u5dde|\u6df1\u5733|\u676d\u5dde/.exec(a);n=n&&n[0],n&&t.offline.setItem("city",n)}})},8e3))},_setCityBg:function(t){t||(t="default");var e=m[t];e&&(r.ie&&8==r.ie?e+="_290x290.jpg":(e=l.get("retina")?e:e+"_290x290.jpg",e=o.getImageAndCache(e)),this.el.css({backgroundImage:"url("+e+")"}))},_render:function(){var t=this,e=this.el.all(".J_MemberHome"),n=this.el.all(".J_MemberNick");if(e.attr("href","//i.taobao.com/my_taobao.htm?ad_id=&am_id=&cm_id=&pm_id=1501036000a02c5c3739"),a()&&n.html(a()),!isNaN(this.tag)){var o="";10===this.tag?o="super":20===this.tag&&(o="apass"),r.ie&&8==r.ie||o&&p(".avatar-wrapper",this.el).addClass(o)}u.isLogin()&&this.jsonp("//i.taobao.com/json/my_taobao_remind_data.htm").then(function(e){return t.remind(e)},function(t){i({category:"ERROR_Member_Login_Detect_Crash",msg:"fetch delivery address error, detail: "+(t&&t.message)},"warn")})},remind:function(t){var e=this.el.all(".J_MemberLogin"),a=this.el.all(".J_MemberLogout");"true"===t[6];p(".member-tjb",this.el).addClass("member-tjb-login");var n=this.render(d,{a:t[3]||0,b:t[1][0]||0,c:t[2]||0,d:t[7]||0});e.append(n).show(),a.animate({marginTop:"-25px"},.2,"easeOut");var i=this.el.all(".J_MemberPunch");i.attr({href:g,"data-spm":"d2"})}}),t=_}(),kgHome20171426CDecorationsIndex=function(t){function e(t){var e=this;this.el=t,n.load(function(){e.init()})}var a=node,n=util,i=aliPattern,o=kgHome20171426CDecorationsItemjsthtml,r=_ua_,s={},l=a.all;return i.extend(e,{init:function(){var t=this,e=l("textarea",this.el),a=n.trim(e.val());e&&e.length&&a&&(s=JSON.parse(a),e.remove(),s&&n.isTrue(s.holyOn)&&s.holyList&&s.holyList.length>0&&t.runholy(s.holyList),s&&n.isTrue(s.bottomOn)&&s.bottomList&&s.bottomList.length>0&&t.runbottom(s.bottomList))},runholy:function(t){var e=this,a=!1,i=!1,r=l("#J_SiteNav").outerHeight(),s=l(".tbh-banner").height(),c=l(".tbh-superbanner").height();c&&(s+=c),n.each(t,function(t){if(n.isTrue(t.left)&&!i){var c=l(".tbh-member");t.left=c.width(),t.top=-(c.offset().top-r-s);var d=e.render(o,t);c.prepend(d),i=!0}if(!n.isTrue(t.left)&&!a){t.left=-t.width;var u=l(".tbh-service");t.top=-(u.offset().top-r-s);var h=e.render(o,t);u.prepend(h),a=!0}})},_lazybind:function(){l(window).on("load",n.bind(this._loadSide,this)),this.lazyTimer=setTimeout(n.bind(function(){this._loadSide()},this),1e3)},_loadSide:function(){function t(r){clearTimeout(e),e=setTimeout(n.bind(function(){var e=a.scrollTop()+i;this.list.length?n.each(this.list,n.bind(function(t,a){var i=t&&t.refer&&l("."+t.refer);if(i&&t.img&&i.offset()&&i.offset().top<=e){var o='<img class="decorate" src="{img}" width="{width}" height="{height}"/>',o=n.substitute(o,t),r=l(o);t.top&&r.css("top",t.top),t.left&&r.css("left",t.left),t.right&&r.css("right",t.right),t.bottom&&r.css("bottom",t.bottom),i.append(r),this.list.splice(a,1)}},o)):a.off("scroll",t)},o),50)}var e,a=l(window),i=a.height(),o=this;this.hasLoad||(this.hasLoad=!0,a.on("scroll",t),t())},runbottom:function(t){var e=this;if(8!==r.ie){var a=l("body"),i=l(".screen-outer").width(),s=a.width(),c=(s-i)/2,d=void 0,u=void 0,h=void 0,m=void 0;n.each(t,function(t){n.isTrue(t.left)&&!u&&(m=t.width,t=n.merge(t,{classname:"fixed-bottom",right:c-m,zIndex:1}),u=e.render(o,t),a.append(u)),n.isTrue(t.left)||d||(h=t.width,t=n.merge(t,{classname:"fixed-bottom",left:c-t.width,zIndex:1}),d=e.render(o,t),a.append(d))}),l(window).on("resize",function(t){var e=l(".screen-outer").width(),n=a.width(),i=(n-e)/2;d.css("left",i-h),u.css("right",i-m)}),l(window).on("scroll",function(t){var e=l(document).scrollTop();e+54>0?(d.fadeIn(.3),u.fadeIn(.3)):(d.fadeOut(.3),u.fadeOut(.3))})}},defaults:function(){return{name:"decoration"}}}),t=e}(),kgHome20171426CSearchIndex=function(t){function e(t){this.el=t,this.qEl=h("#q"),this.searchHotEl=h(".J_SearchFt"),this.forms=m.forms.search,e.superclass.constructor.apply(this)}var a=_ua_,n=anim,i=node,o=cookie,r=kgHome20171426CSearchSticky,s=aliPatternLibReporter,l=aliPattern,c=util,d=kgHome20171426CSearchTmalljsthtml,u=kgHome20171426CSearchAlimamajsthtml,h=i.all,m=document;return l.extend(e,{init:function(){this.bind(),new r,this.searchHotEl.length>0&&(this.cloneLine(),this.loadAlimamaWord()),this.placeholder(),this.intelligentInitSuggest(),this.setSPM("taobao-item")},bind:function(){this.el.delegate("mouseenter","#J_SearchTab",this.toggleTab,this),this.el.delegate("mouseleave","#J_SearchTab",this.toggleTab,this),this.el.delegate("click",".J_SearchTab",this.clickTab,this),this.el.delegate("focusin","#q",this.focusInput,this),this.el.delegate("focusout","#q",this.blurInput,this),this.el.delegate("keyup","#q",this.keyupInput,this),this.el.delegate("input","#q",this.keyupInput,this),this.el.delegate("click","#J_SearchIcon",this.clickIcon,this)},cloneLine:function(){h(".search-hots-lines",this.el).append(h(".search-hots-fline",this.el).clone(!0).attr({"class":"search-hots-sline","data-spm-ab":"sline"}))},placeholder:function(){function t(t){var e=t.match(/(\w+?:\/\/[^\?#&]+)(\?([^$#]+))?/);return!!(e&&e[1]&&e[3])&&{action:e[1],params:c.unparam(e[3])}}var e=this,a=h(".J_TbSearchContent label"),n="",i=a.attr("data-oeid");i&&this.jsonp({url:"//s.taobao.com/search?app=api&m=word&oeid=",data:{oeid:i}}).then(function(o){if(o&&o.success&&o.data&&o.data.length>0){var r=o.data[0],l="<span style='display:none;'>"+r.word_keyword+"</span>"+(r.word_title||r.word_keyword);if(a.html(l).attr("data-searchtype-item",l).show(),!r.word_url)return;var c=t(r.word_url);h(".J_SearchPanel form",e.el).attr("action",c.action);for(var d in c.params)"q"!=d&&e.hidden(!0,d,c.params[d])}else a.show(),s({category:"ERROR_NODATA_"+n+i,msg:"API: "+ +n+i},"warn")},function(t){a.show(),s({category:"ERROR_FAILED_"+n+i,msg:"API: "+n+i+" msg: "+t&&t.message},"warn")})},intelligentInitSuggest:function(){function t(){n||(n=!0,a.initSearchSuggest(),e.off("load",t),a.qEl.off("focus",t),a.qEl.off("input",t),a.el.undelegate("mouseenter",".search-wrap",t,this))}var e=h(window),a=this,n=!1;c.load(function(){setTimeout(function(){t()},600)}),this.qEl.on("focus",t),this.qEl.on("input",t),this.el.delegate("mouseenter",".search-wrap",t,this)},initSearchSuggest:function(){var t=window.suggestModuleVersion||"6.2.3",e=this,n="kg/search-suggest/"+t;KISSY.use(n+"/index,"+n+"/plugin/history,"+n+"/plugin/cloud,"+n+"/plugin/tab,"+n+"/plugin/history-magic,"+n+"/plugin/imgsearch,"+n+"/theme/pailitao/,"+n+"/new_suggest.css",function(t,n,i,o,r,l,d,u){var p=this,f=["channelEntry","history","c2c_activity","dapei_top","cat","global","list","dapei_bottom","scene","shop","tmall","cloud"],g=[new i,new r({activeCls:"selected",node:e.el.all("li.J_SearchTab")}),new o,new l],_="//suggest.taobao.com/sug?k=1&area=c2c",v=!(h(m).scrollTop()>0),b="";if(!(a.ie&&a.ie<=7)){var w=new d({input:"#J_IMGSeachUploadBtn",type:"iframe",theme:new u({formNode:"#J_TSearchForm",queueTarget:"#J_UploaderMessage"})});g.push(w),h("#J_UploaderPanel").show()}var x=new n({placeholder:{show:!0,node:"#tbSearchContent",api:"//suggest.taobao.com/sug?area=shade_recommand&code=utf-8"},plugins:g,sugConfig:{sourceUrl:_,node:"#q",focused:v,resultFormat:b},mods:{sort:f,tmall:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-mall" data-key="q={tmall}&suggest=tmall_{$index}&tab=mall">','<span class="{prefixCls}menu-key">{tmall}</span>',"<b>\u5929\u732b\u76f8\u5173</b>","</div>"].join("")},scene:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-scene" data-action="https://fa.taobao.com/search" data-key="q={scene}&suggest=scene_{$index}">','<span class="{prefixCls}menu-key">{scene}</span>',"<b>\u88c5\u4fee\u5b9d\u5178/\u9009\u8d2d\u79d8\u7c4d</b>","</div>"].join("")}}});x.on("beforeImageSuccess",function(){s({msg:"\u56fe\u7247\u4e0a\u4f20\u6210\u529f"})}),x.comboBox.on("beforeShow",function(){TB.$sug||(TB.$sug=x.get("menu").get("el"))}),x.comboBox.on("click",function(){s(h(".J_Cup").hasClass("wrap-fixed")?{goldlog:["/tbindex.2014.11","",{type:2},"H46896547"]}:{goldlog:["/tbindex.2014.11","",{type:1},"H46896547"]})}),a.ie&&11===a.ie&&x.comboBox.get("menu").on("afterRenderUI",function(){this.get("el").on("click",{fn:function(t){x.comboClick(t)},once:!0})}),e.comboBox=x.comboBox,v||p.forms&&(p.forms.className=""),h(".btn-search").on("click",function(t){t.halt();var a,n=e.qEl,i=h("#J_TSearchForm");if(""===c.trim(n.val())){if(e.isTmall)a=h(".J_TmallPlaceholder").children("label").attr("data-q"),e.hidden(!0,"from","tbmain_1_placeholder");else{e.setSPM("taobao-item");var o=h("span",".J_TbPlaceholder");o&&o.length&&(a=o.text(),i.append('<input type="hidden" name="hintq" value="1">')),e.hidden(!1)}h(".J_Placeholder",this.el).hide(),n.val(a)}else e.setSPM("taobao-item");i.fire("submit")})})},setSPM:function(t){var e=[h("meta[name=spm-id]").attr("content")];e.push(h("body").attr("data-spm")),e.push(this.el.attr("data-spm")+"-"+t),e.push(c.trim(this.qEl.val())?"1":"2"),this.forms.spm.value=e.join(".")},toggleTab:function(t){var e=t.type,a="triggers-hover",n=h(".J_SearchTabBox",this.el);"mouseenter"===e?n.addClass(a):n.removeClass(a)},clickTab:function(t){var e=h(t.currentTarget);if(h(".J_Cup").hasClass("wrap-fixed")){var a=h(".J_SearchTabBox",this.el),n=h("ul",a),i=n.item(0);e[0]!==i[0]&&n.prepend(e)}this.forms.search_type.value=e.attr("data-searchType"),this.isTmall="true"===e.attr("data-tmall");var o=h(".J_SearchPanel",this.el),r=h(".J_TmallSearchContent",this.el),s=h(".J_TbSearchContent",this.el),l=h(".btn-search",this.el);this.isTmall?(o.addClass("tmall-search-panel"),l.removeClass("tb-bg"),this.setSPM("tmall"),this.loadTmallWord(),r.show(),s.hide()):(o.removeClass("tmall-search-panel"),l.addClass("tb-bg"),this.setSPM("taobao-item"),r.hide(),s.show()),this.qEl.val()&&(r.hide(),s.hide())},hidden:function(t,e,a){var n=h(".J_SearchPanel").all("form"),i=h(".hidden-"+e);if(t){var o='<input type="hidden" name="{name}" value="{value}" class="hidden-{name}">',r=c.substitute(o,{name:e,value:a});i.length||n.append(r)}else i.length&&i.remove()},loadAlimamaWord:function(){var t=this,e=window.TB,a=e&&e.Global&&e.Global.getNick(),n=o.get("cna"),i="//textlink.simba.taobao.com";this.jsonp({url:i,dataType:"jsonp",data:{name:"tbhs",cna:n,nn:encodeURIComponent(a)||"",count:13,pid:"430266_1006"}}).then(function(e){e&&e.success&&e.data&&e.data.length>0?(t.render(u,e.data,h(".search-hots-sline",t.el)),t._alimamaWordRun()):s({category:"ERROR_NODATA_"+i,msg:"API: "+i+", DATA: "+(JSON.stringify(e)||"").slice(0,500),sampling:10},"warn")})["catch"](function(){s({category:"ERROR_FAILED_"+i,msg:"API: "+i},"warn")})},_alimamaWordRun:function(){var t=.6,e="ease-out",a=h(".search-hots-lines",this.el);a.css("top",0),setTimeout(function(){new n(a,{top:-23},t,e).run()},10)},loadTmallWord:function(){var t=this;return this.tmallWord?this.tmallWord:void this.jsonp("//suggest.taobao.com/sug?area=tmall-hq&code=utf-8&src=tbmain").then(function(e){if(e.success){t.tmallWord=e;var a=e.model,n=a.placeholder&&a.placeholder[0];n&&h(".J_TmallPlaceholder",t.el).all("label").text(n.text).attr("data-q",n.query),t.render(d,a,h(".J_TmallHotWord"))}})},focusInput:function(){this.forms.className="search-panel-focused"},blurInput:function(){c.trim(this.qEl.val())||(this.forms.className="")},keyupInput:function(){var t=c.trim(this.qEl.val()),e=h(".J_SearchIcon",this.el),a=h(".J_Placeholder",this.el),n=h(".J_TmallSearchContent",this.el),i=h(".J_TbSearchContent",this.el);t?(a.hide(),e.hide()):(a.hide(),this.isTmall?n.show():(i.show(),h(".J_TbPlaceholder").show()),e.show()),t&&(n.hide(),n.hide())},clickIcon:function(){this.qEl.fire("focus")},defaults:function(){return{name:"tbh-search"}}}),t=e}(),kgHome20171426CFixedtoolIndex=function(t){var e=_ua_,a=node,n=aliAttrAnim,i=kgHome20171426CFixedtoolItemjsthtml,o=aliPattern,r=kgHome20171426CFixedtoolBackup,s=a.all,l=e&&e.ie&&8===e.ie,c=l?0:.4,d=function(t){return this.el=t,e.ipad||e.android?void this.el.hide():(this.toolEl=s(".J_FixedTool",this.el),this.enabledFeedback=!!this.toolEl.attr("data-feedback"),this.feddbackVersion=this.toolEl.attr("data-version")||"0.1.26",void(this.toolEl.length&&(this.name="tbh-fixedtool",this.init())))};return o.extend(d,{init:function(){var t=this;this.load().then(function(e){e&&(t.render(i,e,t.toolEl),t.bind())})["catch"](function(e){t.reportError({extra:e&&e.message})})},load:function(){if(window.staticConfig.fixedtool){var t=window.staticConfig.fixedtool,e=this._getTool(t);if(e)return Promise.resolve(e)}return this.backup()},_getTool:function(t){var e=t.tools;if(e&&e.length)return e},backup:function(){return this.reportError(),Promise.resolve(r)},bind:function(){var t=this,e=this,a=s('a[data-tool="gotop"]',this.toolEl),i=s(window);this.count(),this.el.delegate("click","a",function(a){var o=s(a.currentTarget),r=o.attr("data-tool");if(!r)return t.enabledFeedback&&o.hasClass(".fixedtool-8")&&t._showFeedback()&&(a.preventDefault(),t._feedback()),!0;if(t.count(),a.halt(),"gotop"===r)return l?void i.scrollTop(0):(new n(s("html"),{scrollTop:0},{duration:c,easing:"easeOut"}).run(),void new n(s("body"),{scrollTop:0},{duration:c,easing:"easeOut"}).run());if(t.dataCache[r]){var d=function(t,e,a){new n(s("body"),{scrollTop:t},{duration:e,easing:"easeOut",complete:function(){u(t,a)}}).run(),new n(s("html"),{scrollTop:t},{duration:e,easing:"easeOut",complete:function(){u(a)}}).run()},u=function p(t,a){if("hotsale"===a&&!p.hasExe){p.hasExe=!0,e.count();var n=e.dataCache[a].top;d(n,0)}},h=t.dataCache[r].item,m=t.dataCache[r].top;if(t.el.all(".on").removeClass("on"),h.addClass("on"),l)return s("body").scrollTop(m),void s("html").scrollTop(m);d(m,c,r)}});var o=this.toolEl.hasClass("left");i.on("scroll",function(){var e=i.scrollTop(),n=s(".tbh-conve").offset().top+2,r=75;if(e>i.height()?a.show():a.hide(),e<=n-r){var l=s("a",t.el).attr("data-tool");t.dataCache[l]&&t.dataCache[l].obj.addClass("on"),o?t.toolEl.css({position:"absolute",top:n}):t.toolEl.css({position:"absolute",top:n})}else{o?t.toolEl.css({position:"fixed",top:r}):t.toolEl.css({position:"fixed",top:r});var c=t.scroll[t.scroll.length-1];if(e>=c)return t.el.all(".on").removeClass("on"),void t.scrollDOM[c].item.addClass("on");for(var d=1,u=t.scroll.length;d<u;d++)if(e>=t.scroll[d-1]&&e<t.scroll[d]){t.el.all(".on").removeClass("on"),t.scrollDOM[t.scroll[d-1]].item.addClass("on");break}}}).fire("scroll"),i.on("resize",function(){var e=i.width(),a=s(".fixedtool",t.el);e>1190&&e<1311?a.addClass("ft1190"):a.removeClass("ft1190"),e<1111?a.addClass("ft990"):a.removeClass("ft990")}).fire("resize"),this.toolEl.fadeIn(.5)},count:function(){var t=this,e=this.toolEl.all("a");this.dataCache={},this.scroll=[],this.scrollDOM={},e.each(function(e){var a=s(e),n=a.attr("data-tool"),i=s('div[data-name="'+n+'"]');if(n&&i&&i.length){var o=i.offset().top-48;t.dataCache[n]={obj:i,item:a,top:o},t.scroll.push(o),t.scrollDOM[o]={obj:i,item:a}}}),this.scroll=this.scroll.sort(function(t,e){return t>e?1:-1})},_showFeedback:function(){return!(e.ios||e.android||e.ipad||e.iphone)},_feedback:function(){function t(){try{a.feedback.init({productId:875,source:"web"})}catch(t){}}var e=this,a=this;this.feedback&&t(),KISSY.use("kg/xz-feedback-pc-tb/"+this.feddbackVersion+"/index",function(a,n){e.feedback=new n,t()})}}),t=d}(),kgHome20171426CSuperbannerIndex=function(t){function e(t,a){this.el=t,this.conf=a,this.backup=1==this.el.attr("data-backup"),e.superclass.constructor.apply(this)}var a=aliPattern,n=util,i=kgHome20171426CSuperbannerItemjsthtml,o=node.all,r=promise,s=window.lib.mtop;return a.extend(e,{init:function(){var t=this;this.staticData=window.staticConfig.superbanner||{},this.load().then(function(e){e=e||[],e=t.getValidData(e,5,t.staticData.list),e.length=5,t.render(i,{list:e,logo:t.staticData.logo[0]},o(".superbanner-inner",t.el))})["catch"](function(e){t.reportError(e&&e.message)})},load:function(){var t=this;return this.backup||""===this.staticData.tppConfigId?r.resolve():s.request({api:"mtop.mytaobao.pchome.multiAcquire",v:"1.0",data:{bizType:"superbannertpp",requestMap:JSON.stringify({count:"5",floorId:"0",tppConfigId:this.staticData.tppConfigId})},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(e){if(e.ret&&~e.ret[0].indexOf("SUCCESS")){var a=[];if(a=e.data.result||[],a&&a[0]&&a[0].contents?a=a[0].contents:a[0]&&a[0].itemList&&(a=a[0].itemList),t.validator.array.minItems(a,5))return a;t.reportCDN({message:"valid error"})}return null})["catch"](function(e){return t.reportCDN({message:"request error"}),null})},getValidData:function(t,e,a){var i=this,o=[];if(n.each(t,function(t,e){i.validator.notEmpty(t,["clickUrl","picUrl","title","subtitle"])?o.push({title:t.title,subtitle:t.subtitle,link:t.clickUrl,img:t.picUrl,bgurl:a[e].bgurl}):i.validator.notEmpty(t,["url","pic_url","title","subtitle"])&&o.push({title:t.title,subtitle:t.subtitle,link:t.url,img:t.pic_url,bgurl:a[e].bgurl})}),o.length>=e)return o;for(var r=o.length,s=0;s<e-r;s++)a&&a[s]&&o.push(a[s]);return o},defaults:function(){return{name:"superbanner"}}}),t=e}(),kgHome20171426CVenuesIndex=function(t){function e(t,a){this.el=t,this.conf=a,this.backup=1==this.el.attr("data-backup"),e.superclass.constructor.apply(this)}var a=aliPattern,n=util,i=kgHome20171426CVenuesItemjsthtml,o=node.all;return a.extend(e,{init:function(){var t=o("textarea",this.el).val();this.staticData=t?JSON.parse(t):[];var e=this.getValidData(e,5,this.staticData);this.render(i,{list:e},o("ul",this.el))},getValidData:function(t,e,a){var i=this,o=[];if(n.each(t,function(t,e){t.bgurl||(t.bgImg=a[e].bgImg),i.validator.notEmpty(t,["title","subtitle","url","pic_url","bgImg"])&&o.push({title:t.title,subtitle:t.subtitle,link:t.url,img:t.pic_url,bgImg:t.bgImg})}),o.length>=e)return o;for(var r=o.length,s=0;s<e-r;s++)a&&a[s]&&o.push(a[s]);return o},defaults:function(){return{name:"Venues"}}}),t=e}(),kgHome20171426CommonHeadIndex=function(t){var e=kgHome20171426CommonHeadItemBarjsthtml,a=kgHome20171426CommonHeadItemjsthtml;return t={renderHeadBar:function(t,a){a=a||this.el;var n=this.name,i=t&&t[0]||{};i.classname=i.classname||n,i.title=i.title||this.title,i.switcher=void 0!==i["switch"]?i["switch"]:this.switcher,i.itemLayer=i.itemLayer||this.itemLayer,i.logo=i.logo||this.logo,this.renderTo(e,i,a),this.noEXP||this.exp()},renderHead:function(t,e){e=e||this.el;var n=this.name,i=t&&t[0]||{};i.classname=i.classname||n,i.title=i.title||this.title,i.subtitle=i.subtitle||this.subtitle,i.switcher=void 0!==i["switch"]?i["switch"]:this.switcher,i.logo=i.logo||this.logo,this.renderTo(a,i,e),this.noEXP||this.exp()},exp:function(){this.godlog("/tbindex.module.name","EXP",{name:this.name},"H1476877869","\u6a21\u5757\u66dd\u5149\uff1a"+this.name)}}}(),kgHome20171426LibModules=function(t){return t={ad:kgHome20171426CAdIndex,qr:kgHome20171426CQrIndex,service:kgHome20171426CServiceIndex,promo:kgHome20171426CPromoIndex,tmall:kgHome20171426CTmallIndex,conve:kgHome20171426CConveIndex,focus:kgHome20171426CFocusIndex,nav:kgHome20171426CNavIndex,app:kgHome20171426CAppIndex,member:kgHome20171426CMemberIndex,notice:kgHome20171426CNoticeIndex,decorations:kgHome20171426CDecorationsIndex,tanx:kgHome20171426CTanxIndex,search:kgHome20171426CSearchIndex,corner:kgHome20171426CCornerIndex,fixedtool:kgHome20171426CFixedtoolIndex,superbanner:kgHome20171426CSuperbannerIndex,venues:kgHome20171426CVenuesIndex}}(),kgHome20171426CommonInject=function(t){var e=aliPattern,a=kgHome20171426CommonHeadIndex,n=util;return n.mix(e.prototype,a),t}(),kgHome20171426LibLoader=function(t){function e(t,e,n,i,o,r){if(i)return void a(t,e,n,o,r);var s=t.attr("preload-distance");s?(s=Number(s),new h({diff:{top:s||50,bottom:s||50},autoDestroy:!0}).addCallback(t,function(){a(t,e,n,o,r)})):_.addCallback(t,function(){a(t,e,n,o,r)})}function a(t,e,a,i,o){var r=f.get("tbVersion")||"0.0.1";if(!t.hasClass("tbh-loaded")&&!i)return void u({category:"ERROR_Loader_Crash",msg:"Loader\u52a0\u8f7d\u6a21\u5757\u65f6\uff0c\u53d1\u73b0\u6a21\u5757\u4e0d\u5b58\u5728 "+t.className},"warn");if(g[i])n(t,e,i,o);else{var s="kg/home-2017/"+r+"/c/"+i+"/index",l=s+".css";n(t,e,i,o,s,l)}}function n(t,e,a,n,l,c){var d=g[a];if(d)try{var u=new d(t,e);s(u,a,n)}catch(h){i(a,h,t)}else o().then(function(){return r(l)},function(t){return r(l+", "+c)}).then(function(o){try{var r=new o(t,e);s(r,a,n)}catch(l){i(a,l,t)}},function(e){i(a,e,t)})}function i(t,e,a){var n=e&&e.message,i="",o="";try{i=JSON.stringify(p.computeStackTraceFromStackProp(e)),o=a&&a[0]&&a[0].innerHTML}catch(r){}u({category:"ERROR_Loader_Crash",msg:"fatal error "+t+"~"+n+"stack:"+i+"html: "+o},"warn"),(f.get("env")||location.host.indexOf("yb.my")!==-1)&&window.console&&window.console.log(t,e)}function o(){function t(t){p.each(w,function(e){t?e.resolve():e.reject()})}if(v)return c?m.resolve():m.reject();if(b)return new m(function(t,e){w.push({resolve:t,reject:e})});b=!0;var e=f.get("tbVersion")||"1.5.0",a=window.cdnHost||"g.alicdn.com";return m.all([r("kg/home-2017/"+e+"/lib/lazy"),l("//"+a+"/??kg/home-2017/"+e+"/lib/style/lazy.css")]).then(function(){v=!0,b=!1,c=!0,t(!0)},function(e){v=!0,b=!1,c=!1,i("lazy",e&&e.message),t(!1)})}function r(t){return p.isString(t)&&(t=t.split(",")),t=p.map(t,function(t){return p.trim(t)}),new m(function(e,a){KISSY.use(t,{success:function(t,a){e(a)},error:function(t){a()}})})}function s(t,e,a){var n=f.get("modules");n||(n={}),n[e]||(n[e]={mod:t,dataStr:a}),f.set("modules",n)}function l(t){return new m(function(e,a){KISSY.getScript(t,{success:function(){e()},error:function(){a()}})})}var c,d=node,u=aliPatternLibReporter,h=aliDatalazyload,m=promise,p=util,f=(d.all,aliSession),g=kgHome20171426LibModules,_=new h({diff:{top:200,bottom:50}}),v=!1,b=!1,w=[];return t=e}(),kgHome20171426LibIndex=function(t){function e(){var t=[],e=["promo","service","qr","decorations","qr","tmall","focus","conve","member","tanx","search","superbanner","nav"],i=["corner","fixedtool","ad"],o=["promo","focus"],r=[],l=n();l.banner&&(r.push("ad"),r.push("corner")),l.doodle&&r.push("ad"),l.corner&&r.push("corner");d(".J_Module").each(function(a){var n,a=d(a),l=a.attr("tms"),u=a.attr("tms-data"),h=u,m=a.attr("tms-datakey");if(l&&m&&l.indexOf("/")!==-1?n=l.split("/")[0]:(l=a.attr("data-name"),n=l),!a.hasClass("tb-pass")&&!c.inArray(n,r)){if(u&&c.trim(u))try{u=JSON.parse(u)}catch(p){u={}}else u={};return c.inArray(n,e)?void c.frame(function(){var t=c.inArray(n,o);s(a,u,l,t,n,h)}):c.inArray(n,i)?void c.load(function(){c.frame(function(){s(a,u,l,!0,n,h)})},50):void t.push({el:a,data:u,name:l,moduleName:n,dataStr:h})}}),a(t)}function a(t){function e(){a||(a=!0,u.detach(n,e),c.each(t,function(t){c.frame(function(){s(t.el,t.data,t.name,t.force,t.moduleName,t.dataStr)})}))}var a=!1,n="mousemove scroll mousedown touchstart touchmove keydown resize onload";u.on(n,e),setTimeout(function(){e()},5e3)}function n(){var t={};d(".tbh-logo .logo-hover").length&&(t.doodle=!0),d(".tbh-banner .topBanner").length&&(t.banner=!0);var e=d(".tbh-decorations textarea");if(e.length)try{var a=JSON.parse(e.val()),n=a.left[0].decorations.length,i=a.right[0].decorations.length;n&&i?(t.doodle=!0,t.banner=!0):(n||i)&&(t.doodle=!0)}catch(o){}return!d(".tbh-ad .tbh-ad-inner textarea").length||t.banner||t.doodle||(t.corner=!0),c.isEmptyObject(t)||h({category:"CONFLICT_TANX",msg:JSON.stringify(t)},"warn"),t}var i=_ua_,o=node,r=kgHome20171426LibFeature,s=kgHome20171426LibLoader,l=kgHome20171426LibLog,c=util,d=o.all,u=d(window),h=aliPatternLibReporter,m=kgHome20171426LibSwRegister;return i.ie&&i.ie<8||(new r,e(),new l,c.frame(function(){m()})),t}(),kgHome20171426Index=function(t){return t=kgHome20171426LibIndex}(),module.exports=kgHome20171426Index});define("kg/pattern/2.1.3/index",["ua","util","kg/xctrl/7.2.1/xctrl-kissy","promise","io","kg/route-map-http/0.0.3/index","url","kg/session/0.0.1/index","kg/offline/7.0.1/index","node","json"],function(t,e,r){var n,o,a,i,c,s,u,l,f,p,g,d=t("ua"),h=t("util"),m=t("kg/xctrl/7.2.1/xctrl-kissy"),w=t("promise"),v=t("io"),y=t("kg/route-map-http/0.0.3/index"),b=t("url"),_=t("kg/session/0.0.1/index"),x=t("kg/offline/7.0.1/index"),O=t("node"),j=t("json");n=function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=d,n=(window.location.hostname,h);return window.JSTracker2=window.JSTracker2||[],t=function(t,o){if(t.category){if(r.ie&&r.ie<8)return;t.sampling=t.sampling||10;var a="http://jstracker.www.taobao.com/0.0.3/"+t.category;a=a.slice(0,200),window.JSTracker2.push({msg:t.msg,url:a,sampling:t.sampling})}n.isArray(t.goldlog)&&(t.goldlog[3]||(t.goldlog[3]="H46896569"),"object"===e(t.goldlog[2])&&(t.goldlog[2]=n.param(t.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:t.goldlog}));var i=window.location.search,c=!1;i&&(i=n.unparam(i.slice(1)),c=i.hasOwnProperty("_console")||i.hasOwnProperty("_debug")),t.msg&&c&&(o=o||"info",r.ie&&r.ie<=8&&(o="log"),window.console&&window.console[o]&&window.console[o]("[REPORTER LOG] "+t.msg))}}(),o=function(t){var e=m,r=w,n=v,o=h,a=y;return t={xctrl:function(t){return new r(function(r,n){t.callback=function(t){t?r(t):n(t)},e.dynamic(t)})},jsonp:function(t){"string"==typeof t&&(t={url:t});var e={dataType:"jsonp",timeout:5};if(!t.url)throw new Error("jsonp request need url");return t=o.merge(e,t),this.ajax(t)},ajax:function(t){return new r(function(e,r){t.success=function(t){e(t)},t.error=function(t,e){r({message:e})},n(t)})},tarzan:function(t){"string"==typeof t&&(t={url:t});var e=new a({api:t.url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:e.getCDNAddress(),timeout:60,jsonpCallback:e.getJSONPCallbak(),cache:!0})},use:function(t){return new r(function(e,r){KISSY.use([t],function(t,r){e(r)},function(t){r(t)})})}}}(),a=function(t){var e={};return t={__events:{},on:function(t,e,r){if(t){if("function"!=typeof e)throw new Error("event handler must be a function.");this.__events[t]||(this.__events[t]=[]),this.__events[t].push({hander:e,scope:r})}},fire:function(t,e){if(t){var r=this.__events[t];if(r)for(var n=0,o=r.length;n<o;n++){var a=r[n];a.scope?a.hander.call(a.scope,e):a.hander.call(this,e)}}},off:function(t,e){if(t){var r=this.__events[t];if(e){for(var n=0,o=r.length;n<o;n++)if(r[n].hander===e){r.splice(n,1);break}}else this.__events[t]=null}},broadcast:function(t,r){var n=e[t],o=0;if(void 0!==n){var a=[].slice.call(arguments,0);a=a.length>2?a.splice(2,a.length-1):[],a=[r].concat(a),o=n.length;for(var i=0;i<o;i++){var c=n[i];c&&c.callback&&(a=a.concat(c.args),c.callback.apply(c.scope,a))}}return this},subscribe:function(t,r,n){t=t||[];var o=[].slice.call(arguments);"string"==typeof t&&(t=t.split(","));var a=t.length;if(0===a)return this;o=o.length>3?o.splice(3,o.length-1):[];for(var i=0;i<a;i++){var c=t[i];e[c]=e[c]||[],e[c].push({callback:r,scope:n,args:o})}return this},unsubscribe:function(t,r,n){var o=e[t];if(!o)return this;if(r){for(var a=o.length,i=[],c=0;c<a;c++){var s=o[c];s.callback==r&&s.scope==n||i.push(s)}o=i}else o.length=0;return this}}}(),i=function(t){function e(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function r(t,e){return e&&n.isArray(t)&&(t=t[0]&&t[0][e]),"true"===t||t===!0}var n=h;return n.isTrue=r,t={extend:e}}(),c=function(t){var e="NOT_EMPTY",r=h;return t={array:{maxItems:function(t,e){if(r.isArray(t)&&t.length<=e)return!0},minItems:function(t,e){if(r.isArray(t)&&t.length>=e)return!0}},object:{required:function(t,e){if(r.isArray(e)){var n=!0;return r.each(e,function(e){t.hasOwnProperty(e)||(n=!1)}),n}}},properties:function(t,r){var n=!0;for(var o in r)if(r.hasOwnProperty(o))if(t.hasOwnProperty(o)){var a=(r[o],t[o]);a.format&&a.format===e&&(t[o]||(n=!1))}else n=!1;return n},notEmpty:function(t,e){for(var r=!0,n=0,o=e.length;n<o;n++){var a=e[n],i={};i[a]={format:"NOT_EMPTY"};var c=this.properties(t,i);if(!c){r=!1;break}}return r}}}(),s=function(t){var e=b,r=_,n=h,o=x,a=new o;return t={getNewUrl:function(t,o){if(o=o||{},!t||"string"!=typeof t)return"";var a=o.size||"",i=o.q||"",c="",s=o.xz?"xz":"";a+s+i&&(c="_"+a+s+i,c+=".jpg");try{var u=e.parse(t)}catch(l){return t}var f=u.host,p=u.pathname,g=(u.protocol,"img.alicdn.com");u.protocol="";var d=["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"];if(n.inArray(d,f))return/alicdn/.test(f)||(u.protocol="http:"),"//"+e.format(u);var h=f.match(/(.+\.(?:alicdn)\.com)/);if(h&&h[0]!=g&&(u.host=g),o&&o.isOriginal)return"//"+e.format(u);var m=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,w=p.match(m);if(/\.gif/.test(p))return"//"+e.format(u);/\.png/.test(p)&&(c=c.replace(/(q\d+)(s\d+)/,"")),o.webp&&r.get("webp")&&(c+="_.webp");var v=/_\.(jpg|png|gif|jpeg)/;if(w)w[1]||w[2]||w[3]||w[4]?u.pathname=p.replace(m,c):w[0].match(v)&&(u.pathname+=c);else if(p.match(/_\.webp$/g)){var y=/_\.webp$/g;u.pathname=p.replace(y,c)}else u.pathname=p+c;return"//"+e.format(u)},toDataUrl:function(t,e){if(!window.XMLHttpRequest||!window.FileReader)return e(t);try{var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(r.response)},r.open("GET",t),r.send()}catch(n){}},getImageAndCache:function(t,e,r,n){var t=this.getNewUrl(t,e),o=this;"function"!=typeof r&&(r=function(e){e&&e!==t&&a.setItem(t,e)});var i=a.getItem(t);return i?i:(n?this.toDataUrl(t,r):setTimeout(function(){o.toDataUrl(t,r)},8e3),t)},response:function(t,e,n,o,a,i){e=n&&r.get("retina")?n:e;var c;if(e){var c={};c.size=e,o&&"q"===o.charAt(0)&&(c.q=o),a&&r.get("webp")&&(c.webp=a)}else c={isOriginal:!0};return i&&(c.xz=!0),t=this.getNewUrl(t,c)}}}(),u=function(t){function e(t,e,r){e=e||{};try{var n={data:e,$runtime:a,_:i},o=t(n);return o}catch(s){window.console&&window.console.log(s),c({category:"tbh_render_error_"+r.name,msg:JSON.stringify({message:s&&s.message,stack:s.stack})})}}var r=O,o=r.all,a={},i=h,c=n;return window._=window._||{},window._.escape=i.escapeHTML,t={render:function(t,r,n,a){var i=e(t,r,this),c=o(i);return n?(o(n).html("").append(c),c):c},renderTo:function(t,r,n){var a=e(t,r,this),i=o(a);return o(n).append(i),i},config:function(t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])}}}(),l=function(t){function e(t,e,n,o){if(!t||!e)return t;var a=e.prototype,i=Object.create(a);return t.prototype=i,i.constructor=t,t.superclass=a,e!=Object&&a.constructor==Object.prototype&&(a.constructor=e),n&&r.extend(i,n),o&&r.extend(t,o),t}var r=i;return"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),t=e}(),f=function(t){function e(){var t=arguments[0]||{},t=c.extend(this.defaults(),t);this.__events={},r(this,t)}function r(t,e,r){var n;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],t[o]=n)}var n=a,o=l,c=i;return c.extend(e.prototype,n),e.inherit=o,e.extend=function(t,r,n){o(t,e,r,n)},e.prototype.constructor=e,e.prototype.defaults=function(){return{}},e.prototype.get=function(t){return this[t]},e.prototype.set=function(t,e){this[t]=e},t=e}(),p=function(t){function e(){if(e.superclass.constructor.apply(this,arguments),!this.name)throw new Error("module name cannot be null, please check you code.");this.init()}var r=u,i=o,l=a,p=f,g=x,d=_,m=new g,w=n,v=c,y=j,b=s,O=h;return e.inherit=p.inherit,e.extend=function(t,r,n){e.inherit(t,e,r,n)},p.extend(e,O.merge({init:function(){},render:r.render,renderTo:r.renderTo},i,l,{offline:m,validator:v},{__lazyload:function(t){},getLazyloadConfig:function(){return{}},godlog:function(t,e,r,n,o){w({goldlog:[t,e,r,n],msg:o||[t,r].join(":")+"\u66dd\u5149"})},report:function(t,e){var r=t.category||this.category||"ERROR_"+this.name+"_data_err",n=t.type||"warn",o={type:n,data:t.data||{},desc:t.msg||"",name:this.name};t.extra&&(o.extra=t.extra),w({category:r,msg:y.stringify(o)},e||"warn")},reportCache:function(t,e){t=O.merge({data:{step:10,stepName:"storage"},msg:"storage"},t),this.report(t,e)},reportBackup:function(t,e){t=O.merge({data:{step:11,stepName:"backup"},msg:"backup"},t),this.report(t,e)},reportCDN:function(t,e){t=O.merge({data:{step:100,stepName:"cdn"},msg:"cdn"},t),this.report(t,e)},reportError:function(t,e){t=O.merge({data:{step:-1},msg:"empty"},t),this.report(t,e)}})),r.config({placeholder:"//g.alicdn.com/s.gif",suffix:function(t,e,r,n){var o="_";return o+=d.get("retina")?e:t,r&&(o+=r),n&&d.get("webp")&&(o+="_.webp"),o},isTrue:O.isTrue,https:function(t){return t=b.getNewUrl(t,{isOriginal:!0})},image:function(t,e,r,n,o,a){return b.response.apply(b,arguments)}}),t=e}(),g=function(t){return t=p}(),r.exports=g});define("kg/pattern/2.1.3/lib/image",["url","kg/session/0.0.1/index","util","kg/offline/7.0.1/index"],function(e,t,a){var n=e("url"),r=e("kg/session/0.0.1/index"),i=e("util"),o=e("kg/offline/7.0.1/index"),c=new o;a.exports={getNewUrl:function(e,t){if(t=t||{},!e||"string"!=typeof e)return"";var a=t.size||"",o=t.q||"",c="",s=t.xz?"xz":"";a+s+o&&(c="_"+a+s+o,c+=".jpg");try{var l=n.parse(e)}catch(p){return e}var f=l.host,u=l.pathname,d=(l.protocol,"img.alicdn.com");l.protocol="";var m=["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"];if(i.inArray(m,f))return/alicdn/.test(f)||(l.protocol="http:"),"//"+n.format(l);var g=f.match(/(.+\.(?:alicdn)\.com)/);if(g&&g[0]!=d&&(l.host=d),t&&t.isOriginal)return"//"+n.format(l);var w=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,h=u.match(w);if(/\.gif/.test(u))return"//"+n.format(l);/\.png/.test(u)&&(c=c.replace(/(q\d+)(s\d+)/,"")),t.webp&&r.get("webp")&&(c+="_.webp");var b=/_\.(jpg|png|gif|jpeg)/;if(h)h[1]||h[2]||h[3]||h[4]?l.pathname=u.replace(w,c):h[0].match(b)&&(l.pathname+=c);else if(u.match(/_\.webp$/g)){var v=/_\.webp$/g;l.pathname=u.replace(v,c)}else l.pathname=u+c;return"//"+n.format(l)},toDataUrl:function(e,t){if(!window.XMLHttpRequest||!window.FileReader)return t(e);try{var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.open("GET",e),a.send()}catch(n){}},getImageAndCache:function(e,t,a,n){var e=this.getNewUrl(e,t),r=this;"function"!=typeof a&&(a=function(t){t&&t!==e&&c.setItem(e,t)});var i=c.getItem(e);return i?i:(n?this.toDataUrl(e,a):setTimeout(function(){r.toDataUrl(e,a)},8e3),e)},response:function(e,t,a,n,i,o){t=a&&r.get("retina")?a:t;var c;if(t){var c={};c.size=t,n&&"q"===n.charAt(0)&&(c.q=n),i&&r.get("webp")&&(c.webp=i)}else c={isOriginal:!0};return o&&(c.xz=!0),e=this.getNewUrl(e,c)}}});define("kg/pattern/2.1.3/lib/reporter",["ua","util"],function(o,n,e){var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r=o("ua"),t=(window.location.hostname,o("util"));window.JSTracker2=window.JSTracker2||[],e.exports=function(o,n){if(o.category){if(r.ie&&r.ie<8)return;o.sampling=o.sampling||10;var e="http://jstracker.www.taobao.com/0.0.3/"+o.category;e=e.slice(0,200),window.JSTracker2.push({msg:o.msg,url:e,sampling:o.sampling})}t.isArray(o.goldlog)&&(o.goldlog[3]||(o.goldlog[3]="H46896569"),"object"===l(o.goldlog[2])&&(o.goldlog[2]=t.param(o.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:o.goldlog}));var i=window.location.search,g=!1;i&&(i=t.unparam(i.slice(1)),g=i.hasOwnProperty("_console")||i.hasOwnProperty("_debug")),o.msg&&g&&(n=n||"info",r.ie&&r.ie<=8&&(n="log"),window.console&&window.console[n]&&window.console[n]("[REPORTER LOG] "+o.msg))}});define("kg/pattern/2.1.3/lib/io",["kg/xctrl/7.2.1/xctrl-kissy","promise","io","util","kg/route-map-http/0.0.3/index"],function(t,n,r){var e=t("kg/xctrl/7.2.1/xctrl-kissy"),i=t("promise"),o=t("io"),a=t("util"),u=t("kg/route-map-http/0.0.3/index");r.exports={xctrl:function(t){return new i(function(n,r){t.callback=function(t){t?n(t):r(t)},e.dynamic(t)})},jsonp:function(t){"string"==typeof t&&(t={url:t});var n={dataType:"jsonp",timeout:5};if(!t.url)throw new Error("jsonp request need url");return t=a.merge(n,t),this.ajax(t)},ajax:function(t){return new i(function(n,r){t.success=function(t){n(t)},t.error=function(t,n){r({message:n})},o(t)})},tarzan:function(t){"string"==typeof t&&(t={url:t});var n=new u({api:t.url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:n.getCDNAddress(),timeout:60,jsonpCallback:n.getJSONPCallbak(),cache:!0})},use:function(t){return new i(function(n,r){KISSY.use([t],function(t,r){n(r)},function(t){r(t)})})}}});define("kg/home-2017/1.4.26/c/fixedtool/index.css",["node"],function(o,t,i){"use strict";var e=o("node");i.exports=e("<style>div.tbh-fixedtool .ft1190{margin-right:-633px}div.tbh-fixedtool .ft990{margin-right:-533px}div.tbh-fixedtool.left .ft1190{margin-left:-633px;margin-right:auto}div.tbh-fixedtool.left .ft990{margin-left:-533px;margin-right:auto}.fixedtool{display:none;position:absolute;z-index:4;top:837px;right:50%;width:50px;text-align:center;margin-right:-655px}.fixedtool .wangwang.tb-ifont{position:absolute;height:36px;width:50px;line-height:36px;text-align:center;font-size:32px;color:#ff7f13;top:-28px;right:0}.fixedtool.left{left:50%;right:auto;margin-right:auto;margin-left:-655px;top:auto;bottom:50px}.fixedtool a{display:block;height:44px;position:relative;text-decoration:none;padding:6px 8px 0;font-size:14px;line-height:40px;background:#fff}.fixedtool a:after{content:'';border-bottom:1px solid #efefef;width:34px;position:absolute;left:8px;bottom:-1px;z-index:1}.fixedtool a:last-child:after{border-bottom:none}.fixedtool a.fixedtool-1{-webkit-border-top-left-radius:8px;-moz-border-radius-topleft:8px;border-top-left-radius:8px;-webkit-border-top-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-topright:8px;-moz-background-clip:padding;border-top-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-9{-webkit-border-bottom-left-radius:8px;-moz-border-radius-bottomleft:8px;border-bottom-left-radius:8px;-webkit-border-bottom-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-bottomright:8px;-moz-background-clip:padding;border-bottom-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-8 i{font-size:12px}.fixedtool a i{font-style:normal;font-size:14px;display:block;line-height:40px}.fixedtool a.on,.fixedtool a:hover{z-index:2;text-decoration:none;color:#FFF;background-repeat:no-repeat;font-weight:700;background-repeat:repeat-x;background-image:-webkit-linear-gradient(135deg,#ff971b,#ff5000);background-image:-o-linear-gradient(135deg,#ff971b,#ff5000);background-image:linear-gradient(135deg,#ff971b,#ff5000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff5000', endColorstr='#ffff6f06', GradientType=1)}.fixedtool a.on .tb-ifont,.fixedtool a:hover .tb-ifont{color:#FFF}.fixedtool a:focus{outline:0}.fixedtool a em{position:absolute;right:-30px;width:40px;height:40px;text-indent:-9999px;z-index:2;top:5px}.fixedtool .fixedtool-7 .tb-ifont{color:#999;position:relative;line-height:20px}a.fixedtool-1,a.fixedtool-3,a.fixedtool-4,a.fixedtool-5,a.fixedtool-6,a.fixedtool-7,a.fixedtool-9{line-height:17px;font-size:13px}a.fixedtool-7,a.fixedtool-8,a.fixedtool-9{font-size:12px}a.fixedtool-1{color:#F40;padding-top:10px;height:40px}a.fixedtool-1.on,a.fixedtool-1:hover{background-color:#F40}.fixedtool-3{color:#f05}.fixedtool-4{color:#8d7afb}.fixedtool-5{color:#A8C001}.fixedtool-2{color:#a2745b}a.fixedtool-6{color:#F40}.fixedtool-8 strong i,.fixedtool-9 strong i{font-size:12px}</style>").appendTo("head")});define("kg/pattern/2.1.3/lib/event",[],function(e,t,n){var r={};n.exports={__events:{},on:function(e,t,n){if(e){if("function"!=typeof t)throw new Error("event handler must be a function.");this.__events[e]||(this.__events[e]=[]),this.__events[e].push({hander:t,scope:n})}},fire:function(e,t){if(e){var n=this.__events[e];if(n)for(var r=0,s=n.length;r<s;r++){var i=n[r];i.scope?i.hander.call(i.scope,t):i.hander.call(this,t)}}},off:function(e,t){if(e){var n=this.__events[e];if(t){for(var r=0,s=n.length;r<s;r++)if(n[r].hander===t){n.splice(r,1);break}}else this.__events[e]=null}},broadcast:function(e,t){var n=r[e],s=0;if(void 0!==n){var i=[].slice.call(arguments,0);i=i.length>2?i.splice(2,i.length-1):[],i=[t].concat(i),s=n.length;for(var a=0;a<s;a++){var c=n[a];c&&c.callback&&(i=i.concat(c.args),c.callback.apply(c.scope,i))}}return this},subscribe:function(e,t,n){e=e||[];var s=[].slice.call(arguments);"string"==typeof e&&(e=e.split(","));var i=e.length;if(0===i)return this;s=s.length>3?s.splice(3,s.length-1):[];for(var a=0;a<i;a++){var c=e[a];r[c]=r[c]||[],r[c].push({callback:t,scope:n,args:s})}return this},unsubscribe:function(e,t,n){var s=r[e];if(!s)return this;if(t){for(var i=s.length,a=[],c=0;c<i;c++){var l=s[c];l.callback==t&&l.scope==n||a.push(l)}s=a}else s.length=0;return this}}});